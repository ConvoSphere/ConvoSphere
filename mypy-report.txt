backend/admin.py:21: error: Cannot find implementation or library stub for module named "cli.main"  [import-not-found]
backend/cli/commands/monitoring.py:5: error: Cannot find implementation or library stub for module named "cli.utils.output"  [import-not-found]
backend/cli/commands/monitoring.py:17: error: Library stubs not installed for "psutil"  [import-untyped]
backend/cli/commands/monitoring.py:18: error: Cannot find implementation or library stub for module named "app.core.database"  [import-not-found]
backend/cli/commands/database.py:5: error: Cannot find implementation or library stub for module named "cli.utils.helpers"  [import-not-found]
backend/cli/commands/database.py:6: error: Cannot find implementation or library stub for module named "cli.utils.output"  [import-not-found]
backend/cli/commands/database.py:7: error: Cannot find implementation or library stub for module named "cli.utils.validation"  [import-not-found]
backend/cli/commands/database.py:87: error: Cannot find implementation or library stub for module named "app.core.database"  [import-not-found]
backend/cli/commands/database.py:135: error: Cannot find implementation or library stub for module named "app.models"  [import-not-found]
backend/app/tools/base.py:36: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/tools/base.py:36: note: Use "-> None" if function does not return a value
backend/app/tools/base.py:46: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/tools/base.py:74: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/services/storage/config.py:95: error: Function is missing a type annotation  [no-untyped-def]
backend/app/services/storage/config.py:106: error: Function is missing a type annotation  [no-untyped-def]
backend/app/services/storage/config.py:128: error: Function is missing a type annotation  [no-untyped-def]
backend/app/services/storage/config.py:138: error: Function is missing a type annotation  [no-untyped-def]
backend/app/services/storage/base.py:15: error: Incompatible default for argument "provider" (default has type "None", argument has type "str")  [assignment]
backend/app/services/storage/base.py:15: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/services/storage/base.py:15: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/services/storage/base.py:15: error: Incompatible default for argument "operation" (default has type "None", argument has type "str")  [assignment]
backend/app/services/storage/base.py:25: error: Name "StorageConfig" is not defined  [name-defined]
backend/app/services/storage/base.py:30: error: Incompatible default for argument "metadata" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/services/storage/base.py:30: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/services/storage/base.py:30: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/services/document/processors/word_processor.py:9: error: Cannot find implementation or library stub for module named "docx"  [import-not-found]
backend/app/services/document/processors/pdf_processor.py:9: error: Cannot find implementation or library stub for module named "pypdf"  [import-not-found]
backend/app/services/document/processors/image_processor.py:9: error: Cannot find implementation or library stub for module named "pytesseract"  [import-not-found]
backend/app/services/document/processors/image_processor.py:10: error: Cannot find implementation or library stub for module named "PIL"  [import-not-found]
backend/app/services/document/extractors/text_extractor.py:16: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/services/ai/types/ai_types.py:108: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
backend/app/monitoring/system/system_monitor.py:10: error: Library stubs not installed for "psutil"  [import-untyped]
backend/app/monitoring/system/system_monitor.py:10: note: Hint: "python3 -m pip install types-psutil"
backend/app/monitoring/system/system_monitor.py:17: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/monitoring/system/system_monitor.py:17: note: Use "-> None" if function does not return a value
backend/app/monitoring/system/system_monitor.py:182: error: Need type annotation for "network_info" (hint: "network_info: dict[<type>, <type>] = ...")  [var-annotated]
backend/app/core/exceptions.py:156: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "str")  [assignment]
backend/app/core/config.py:9: error: Cannot find implementation or library stub for module named "pydantic_settings"  [import-not-found]
backend/app/core/config.py:46: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/config.py:92: error: Function is missing a type annotation  [no-untyped-def]
backend/alembic/versions/add_password_reset_fields.py:10: error: Cannot find implementation or library stub for module named "alembic"  [import-not-found]
backend/alembic/versions/2025_08_16_fix_enum_types_and_timestamps.py:9: error: Cannot find implementation or library stub for module named "alembic"  [import-not-found]
backend/alembic/versions/2025_08_16_add_ai_models_and_settings_tables.py:1: error: Cannot find implementation or library stub for module named "alembic"  [import-not-found]
backend/alembic/versions/2025_08_14_add_agents_table.py:8: error: Cannot find implementation or library stub for module named "alembic"  [import-not-found]
backend/alembic/versions/2024_01_01_enhance_knowledge_base.py:12: error: Cannot find implementation or library stub for module named "alembic"  [import-not-found]
backend/alembic/versions/2024_01_01_enhance_knowledge_base.py:12: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports
backend/cli/main.py:6: error: Cannot find implementation or library stub for module named "cli.commands.assistant"  [import-not-found]
backend/cli/main.py:7: error: Cannot find implementation or library stub for module named "cli.commands.backup"  [import-not-found]
backend/cli/main.py:8: error: Cannot find implementation or library stub for module named "cli.commands.database"  [import-not-found]
backend/cli/main.py:9: error: Cannot find implementation or library stub for module named "cli.commands.dev"  [import-not-found]
backend/cli/main.py:10: error: Cannot find implementation or library stub for module named "cli.commands.monitoring"  [import-not-found]
backend/cli/main.py:11: error: Cannot find implementation or library stub for module named "cli.commands.user"  [import-not-found]
backend/cli/main.py:12: error: Cannot find implementation or library stub for module named "cli.utils.output"  [import-not-found]
backend/cli/main.py:18: error: Function is missing a return type annotation  [no-untyped-def]
backend/cli/main.py:18: note: Use "-> None" if function does not return a value
backend/cli/main.py:28: error: Function is missing a type annotation  [no-untyped-def]
backend/cli/main.py:52: error: Function is missing a return type annotation  [no-untyped-def]
backend/cli/main.py:52: note: Use "-> None" if function does not return a value
backend/cli/main.py:113: error: Function is missing a return type annotation  [no-untyped-def]
backend/cli/main.py:274: error: Function is missing a return type annotation  [no-untyped-def]
backend/cli/main.py:274: note: Use "-> None" if function does not return a value
backend/app/tools/mcp_tool.py:12: error: Cannot find implementation or library stub for module named "aiohttp"  [import-not-found]
backend/app/tools/mcp_tool.py:114: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/tools/mcp_tool.py:114: note: Use "-> None" if function does not return a value
backend/app/tools/mcp_tool.py:121: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/tools/mcp_tool.py:121: note: Use "-> None" if function does not return a value
backend/app/tools/mcp_tool.py:130: error: Item "None" of "Any | None" has no attribute "post"  [union-attr]
backend/app/tools/mcp_tool.py:155: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/tools/mcp_tool.py:155: note: Use "-> None" if function does not return a value
backend/app/tools/mcp_tool.py:164: error: Item "None" of "Any | None" has no attribute "post"  [union-attr]
backend/app/tools/mcp_tool.py:216: error: Item "None" of "Any | None" has no attribute "post"  [union-attr]
backend/app/tools/mcp_tool.py:223: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
backend/app/tools/mcp_tool.py:251: error: Item "None" of "Any | None" has no attribute "post"  [union-attr]
backend/app/tools/mcp_tool.py:258: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
backend/app/tools/mcp_tool.py:371: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/tools/mcp_tool.py:418: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/tools/mcp_tool.py:418: note: Use "-> None" if function does not return a value
backend/app/tools/mcp_tool.py:426: error: Incompatible default for argument "server_name" (default has type "None", argument has type "str")  [assignment]
backend/app/tools/mcp_tool.py:426: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/tools/mcp_tool.py:426: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/tools/mcp_tool.py:527: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/tools/mcp_tool.py:546: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/tools/mcp_tool.py:546: note: Use "-> None" if function does not return a value
backend/app/tools/file_tools.py:18: error: Incompatible types in assignment (expression has type "dict[str, dict[str, str]]", base class "BaseTool" defined the type as "list[ToolParameter]")  [assignment]
backend/app/tools/file_tools.py:25: error: Signature of "execute" incompatible with supertype "backend.app.tools.base.BaseTool"  [override]
backend/app/tools/file_tools.py:25: note:      Superclass:
backend/app/tools/file_tools.py:25: note:          def execute(self, **kwargs: Any) -> Coroutine[Any, Any, ToolResult]
backend/app/tools/file_tools.py:25: note:      Subclass:
backend/app/tools/file_tools.py:25: note:          def execute(self, file_path: str) -> Coroutine[Any, Any, dict[str, Any]]
backend/app/tools/file_tools.py:48: error: Incompatible types in assignment (expression has type "dict[str, dict[str, str]]", base class "BaseTool" defined the type as "list[ToolParameter]")  [assignment]
backend/app/tools/file_tools.py:59: error: Signature of "execute" incompatible with supertype "backend.app.tools.base.BaseTool"  [override]
backend/app/tools/file_tools.py:59: note:      Superclass:
backend/app/tools/file_tools.py:59: note:          def execute(self, **kwargs: Any) -> Coroutine[Any, Any, ToolResult]
backend/app/tools/file_tools.py:59: note:      Subclass:
backend/app/tools/file_tools.py:59: note:          def execute(self, file_path: str, content: str) -> Coroutine[Any, Any, dict[str, Any]]
backend/app/tools/api_tools.py:9: error: Library stubs not installed for "requests"  [import-untyped]
backend/app/tools/api_tools.py:9: note: Hint: "python3 -m pip install types-requests"
backend/app/tools/api_tools.py:19: error: Incompatible types in assignment (expression has type "dict[str, object]", base class "BaseTool" defined the type as "list[ToolParameter]")  [assignment]
backend/app/tools/api_tools.py:41: error: Signature of "execute" incompatible with supertype "backend.app.tools.base.BaseTool"  [override]
backend/app/tools/api_tools.py:41: note:      Superclass:
backend/app/tools/api_tools.py:41: note:          def execute(self, **kwargs: Any) -> Coroutine[Any, Any, ToolResult]
backend/app/tools/api_tools.py:41: note:      Subclass:
backend/app/tools/api_tools.py:41: note:          def execute(self, url: str, method: str = ..., headers: dict[Any, Any] = ..., data: dict[Any, Any] = ...) -> Coroutine[Any, Any, dict[str, Any]]
backend/app/tools/api_tools.py:45: error: Incompatible default for argument "headers" (default has type "None", argument has type "dict[Any, Any]")  [assignment]
backend/app/tools/api_tools.py:45: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/tools/api_tools.py:45: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/tools/api_tools.py:46: error: Incompatible default for argument "data" (default has type "None", argument has type "dict[Any, Any]")  [assignment]
backend/app/tools/api_tools.py:46: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/tools/api_tools.py:46: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/tools/analysis_tools.py:17: error: Incompatible types in assignment (expression has type "dict[str, dict[str, str]]", base class "BaseTool" defined the type as "list[ToolParameter]")  [assignment]
backend/app/tools/analysis_tools.py:29: error: Signature of "execute" incompatible with supertype "backend.app.tools.base.BaseTool"  [override]
backend/app/tools/analysis_tools.py:29: note:      Superclass:
backend/app/tools/analysis_tools.py:29: note:          def execute(self, **kwargs: Any) -> Coroutine[Any, Any, ToolResult]
backend/app/tools/analysis_tools.py:29: note:      Subclass:
backend/app/tools/analysis_tools.py:29: note:          def execute(self, data: list[Any], analysis_type: str = ...) -> Coroutine[Any, Any, dict[str, Any]]
backend/app/services/document/validators/file_validator.py:53: error: Returning Any from function declared to return "str | None"  [no-any-return]
backend/app/services/ai/providers/openai_provider.py:6: error: Cannot find implementation or library stub for module named "openai"  [import-not-found]
backend/app/services/ai/providers/openai_provider.py:63: error: "None" has no attribute "chat"  [attr-defined]
backend/app/services/ai/providers/openai_provider.py:80: error: Return type "AsyncGenerator[ChatCompletionChunk, None]" of "chat_completion_stream" incompatible with return type "Coroutine[Any, Any, AsyncGenerator[ChatCompletionChunk, None]]" in supertype "backend.app.services.ai.providers.base.BaseAIProvider"  [override]
backend/app/services/ai/providers/openai_provider.py:118: error: "None" has no attribute "chat"  [attr-defined]
backend/app/services/ai/providers/openai_provider.py:142: error: "None" has no attribute "embeddings"  [attr-defined]
backend/app/services/ai/providers/openai_provider.py:207: error: Returning Any from function declared to return "float"  [no-any-return]
backend/app/services/ai/providers/anthropic_provider.py:6: error: Cannot find implementation or library stub for module named "anthropic"  [import-not-found]
backend/app/services/ai/providers/anthropic_provider.py:65: error: "None" has no attribute "messages"  [attr-defined]
backend/app/services/ai/providers/anthropic_provider.py:89: error: Return type "AsyncGenerator[ChatCompletionChunk, None]" of "chat_completion_stream" incompatible with return type "Coroutine[Any, Any, AsyncGenerator[ChatCompletionChunk, None]]" in supertype "backend.app.services.ai.providers.base.BaseAIProvider"  [override]
backend/app/services/ai/providers/anthropic_provider.py:127: error: "None" has no attribute "messages"  [attr-defined]
backend/app/services/ai/providers/anthropic_provider.py:151: error: "None" has no attribute "embeddings"  [attr-defined]
backend/app/services/ai/providers/anthropic_provider.py:221: error: Returning Any from function declared to return "float"  [no-any-return]
backend/app/services/ai/core/request_builder.py:17: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/ai/core/request_builder.py:17: note: Use "-> None" if function does not return a value
backend/app/monitoring/database/database_monitor.py:35: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/monitoring/database/database_monitor.py:35: note: Use "-> None" if function does not return a value
backend/app/monitoring/database/database_monitor.py:43: error: Function is missing a type annotation  [no-untyped-def]
backend/app/monitoring/database/database_monitor.py:49: error: Function is missing a type annotation  [no-untyped-def]
backend/app/monitoring/database/database_monitor.py:68: error: Unsupported operand types for + ("object" and "int")  [operator]
backend/app/monitoring/database/database_monitor.py:70: error: Unsupported operand types for * ("object" and "int")  [operator]
backend/app/monitoring/database/database_monitor.py:71: error: Unsupported operand types for - ("object" and "int")  [operator]
backend/app/monitoring/database/database_monitor.py:73: error: Unsupported operand types for / ("float" and "object")  [operator]
backend/app/monitoring/database/database_monitor.py:74: error: No overload variant of "max" matches argument types "object", "float"  [call-overload]
backend/app/monitoring/database/database_monitor.py:74: note: Possible overload variants:
backend/app/monitoring/database/database_monitor.py:74: note:     def [SupportsRichComparisonT: SupportsDunderLT[Any] | SupportsDunderGT[Any]] max(SupportsRichComparisonT, SupportsRichComparisonT, /, *_args: SupportsRichComparisonT, key: None = ...) -> SupportsRichComparisonT
backend/app/monitoring/database/database_monitor.py:74: note:     def [_T] max(_T, _T, /, *_args: _T, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]]) -> _T
backend/app/monitoring/database/database_monitor.py:74: note:     def [SupportsRichComparisonT: SupportsDunderLT[Any] | SupportsDunderGT[Any]] max(Iterable[SupportsRichComparisonT], /, *, key: None = ...) -> SupportsRichComparisonT
backend/app/monitoring/database/database_monitor.py:74: note:     def [_T] max(Iterable[_T], /, *, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]]) -> _T
backend/app/monitoring/database/database_monitor.py:74: note:     def [SupportsRichComparisonT: SupportsDunderLT[Any] | SupportsDunderGT[Any], _T] max(Iterable[SupportsRichComparisonT], /, *, key: None = ..., default: _T) -> SupportsRichComparisonT | _T
backend/app/monitoring/database/database_monitor.py:74: note:     def [_T1, _T2] max(Iterable[_T1], /, *, key: Callable[[_T1], SupportsDunderLT[Any] | SupportsDunderGT[Any]], default: _T2) -> _T1 | _T2
backend/app/monitoring/database/database_monitor.py:77: error: No overload variant of "min" matches argument types "object", "float"  [call-overload]
backend/app/monitoring/database/database_monitor.py:77: note: Possible overload variants:
backend/app/monitoring/database/database_monitor.py:77: note:     def [SupportsRichComparisonT: SupportsDunderLT[Any] | SupportsDunderGT[Any]] min(SupportsRichComparisonT, SupportsRichComparisonT, /, *_args: SupportsRichComparisonT, key: None = ...) -> SupportsRichComparisonT
backend/app/monitoring/database/database_monitor.py:77: note:     def [_T] min(_T, _T, /, *_args: _T, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]]) -> _T
backend/app/monitoring/database/database_monitor.py:77: note:     def [SupportsRichComparisonT: SupportsDunderLT[Any] | SupportsDunderGT[Any]] min(Iterable[SupportsRichComparisonT], /, *, key: None = ...) -> SupportsRichComparisonT
backend/app/monitoring/database/database_monitor.py:77: note:     def [_T] min(Iterable[_T], /, *, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]]) -> _T
backend/app/monitoring/database/database_monitor.py:77: note:     def [SupportsRichComparisonT: SupportsDunderLT[Any] | SupportsDunderGT[Any], _T] min(Iterable[SupportsRichComparisonT], /, *, key: None = ..., default: _T) -> SupportsRichComparisonT | _T
backend/app/monitoring/database/database_monitor.py:77: note:     def [_T1, _T2] min(Iterable[_T1], /, *, key: Callable[[_T1], SupportsDunderLT[Any] | SupportsDunderGT[Any]], default: _T2) -> _T1 | _T2
backend/app/monitoring/database/database_monitor.py:83: error: Unsupported operand types for + ("object" and "int")  [operator]
backend/app/monitoring/database/database_monitor.py:92: error: Value of type "object" is not indexable  [index]
backend/app/monitoring/database/database_monitor.py:92: error: Unsupported target for indexed assignment ("object")  [index]
backend/app/monitoring/database/database_monitor.py:131: error: No overload variant of "dict" matches argument type "object"  [call-overload]
backend/app/monitoring/database/database_monitor.py:131: note: Possible overload variants:
backend/app/monitoring/database/database_monitor.py:131: note:     def [_KT, _VT] __init__(self) -> dict[_KT, _VT]
backend/app/monitoring/database/database_monitor.py:131: note:     def [_KT, _VT] __init__(self, **kwargs: _VT) -> dict[str, _VT]
backend/app/monitoring/database/database_monitor.py:131: note:     def [_KT, _VT] __init__(self, SupportsKeysAndGetItem[_KT, _VT], /) -> dict[_KT, _VT]
backend/app/monitoring/database/database_monitor.py:131: note:     def [_KT, _VT] __init__(self, SupportsKeysAndGetItem[str, _VT], /, **kwargs: _VT) -> dict[str, _VT]
backend/app/monitoring/database/database_monitor.py:131: note:     def [_KT, _VT] __init__(self, Iterable[tuple[_KT, _VT]], /) -> dict[_KT, _VT]
backend/app/monitoring/database/database_monitor.py:131: note:     def [_KT, _VT] __init__(self, Iterable[tuple[str, _VT]], /, **kwargs: _VT) -> dict[str, _VT]
backend/app/monitoring/database/database_monitor.py:131: note:     def [_KT, _VT] __init__(self, Iterable[list[str]], /) -> dict[str, str]
backend/app/monitoring/database/database_monitor.py:131: note:     def [_KT, _VT] __init__(self, Iterable[list[bytes]], /) -> dict[bytes, bytes]
backend/app/monitoring/database/database_monitor.py:138: error: Unsupported left operand type for / ("object")  [operator]
backend/app/monitoring/database/database_monitor.py:142: error: Unsupported operand types for < ("int" and "object")  [operator]
backend/app/monitoring/database/database_monitor.py:265: error: Need type annotation for "distribution"  [var-annotated]
backend/app/core/validation.py:189: error: Untyped decorator makes function "validate_message" untyped  [misc]
backend/app/core/validation.py:208: error: Untyped decorator makes function "validate_assistant_id" untyped  [misc]
backend/app/core/validation.py:216: error: Untyped decorator makes function "validate_model" untyped  [misc]
backend/app/core/validation.py:226: error: Untyped decorator makes function "validate_metadata" untyped  [misc]
backend/app/core/validation.py:252: error: Untyped decorator makes function "validate_title" untyped  [misc]
backend/app/core/validation.py:269: error: Untyped decorator makes function "validate_description" untyped  [misc]
backend/app/core/validation.py:288: error: Untyped decorator makes function "validate_assistant_id" untyped  [misc]
backend/app/core/validation.py:345: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/security_hardening.py:16: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/security_hardening.py:16: note: Use "-> None" if function does not return a value
backend/app/core/security_hardening.py:79: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/security_hardening.py:79: note: Use "-> None" if function does not return a value
backend/app/core/security_hardening.py:111: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/core/error_handlers.py:116: error: Incompatible default for argument "details" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/core/error_handlers.py:116: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/error_handlers.py:116: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/error_handlers.py:131: error: Incompatible default for argument "context" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/core/error_handlers.py:131: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/error_handlers.py:131: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/cli/commands/backup.py:9: error: Cannot find implementation or library stub for module named "cli.utils.helpers"  [import-not-found]
backend/cli/commands/backup.py:10: error: Cannot find implementation or library stub for module named "cli.utils.output"  [import-not-found]
backend/cli/commands/backup.py:16: error: Incompatible default for argument "output" (default has type "None", argument has type "str")  [assignment]
backend/cli/commands/backup.py:16: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/cli/commands/backup.py:16: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/cli/commands/backup.py:21: error: Cannot find implementation or library stub for module named "app.core.database"  [import-not-found]
backend/cli/commands/backup.py:22: error: Cannot find implementation or library stub for module named "app.models"  [import-not-found]
backend/cli/commands/backup.py:67: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
backend/cli/commands/backup.py:166: error: Incompatible default for argument "backup_dir" (default has type "None", argument has type "str")  [assignment]
backend/cli/commands/backup.py:166: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/cli/commands/backup.py:166: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/cli/commands/backup.py:193: error: Argument "key" to "sort" of "list" has incompatible type "Callable[[dict[str, object]], object]"; expected "Callable[[dict[str, object]], SupportsDunderLT[Any] | SupportsDunderGT[Any]]"  [arg-type]
backend/cli/commands/backup.py:193: error: Incompatible return value type (got "object", expected "SupportsDunderLT[Any] | SupportsDunderGT[Any]")  [return-value]
backend/cli/commands/backup.py:197: error: "object" has no attribute "strftime"  [attr-defined]
backend/cli/commands/assistant.py:5: error: Cannot find implementation or library stub for module named "cli.utils.helpers"  [import-not-found]
backend/cli/commands/assistant.py:6: error: Cannot find implementation or library stub for module named "cli.utils.output"  [import-not-found]
backend/cli/commands/assistant.py:9: error: Cannot find implementation or library stub for module named "app.core.database"  [import-not-found]
backend/cli/commands/assistant.py:10: error: Cannot find implementation or library stub for module named "app.models.user"  [import-not-found]
backend/cli/commands/assistant.py:11: error: Cannot find implementation or library stub for module named "app.models.assistant"  [import-not-found]
backend/app/services/tool_executor_base.py:87: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/tool_executor_base.py:87: note: Use "-> None" if function does not return a value
backend/app/services/storage/minio.py:16: error: Cannot find implementation or library stub for module named "minio"  [import-not-found]
backend/app/services/storage/minio.py:17: error: Cannot find implementation or library stub for module named "minio.error"  [import-not-found]
backend/app/services/storage/minio.py:62: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/minio.py:62: note: Use "-> None" if function does not return a value
backend/app/services/storage/minio.py:76: error: Incompatible default for argument "metadata" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/services/storage/minio.py:76: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/services/storage/minio.py:76: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/services/storage/minio.py:131: error: Returning Any from function declared to return "bytes"  [no-any-return]
backend/app/services/storage/minio.py:196: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/services/storage/minio.py:316: error: Need type annotation for "files" (hint: "files: list[<type>] = ...")  [var-annotated]
backend/app/services/ai/utils/cost_tracker.py:6: error: Cannot find implementation or library stub for module named "app.models.cost_tracking"  [import-not-found]
backend/app/services/ai/utils/cost_tracker.py:70: error: Returning Any from function declared to return "list[Any]"  [no-any-return]
backend/app/services/ai/utils/cost_tracker.py:110: error: Function "builtins.any" is not valid as a type  [valid-type]
backend/app/services/ai/utils/cost_tracker.py:110: note: Perhaps you meant "typing.Any" instead of "any"?
backend/app/services/ai/utils/cost_tracker.py:136: error: Function "builtins.any" is not valid as a type  [valid-type]
backend/app/services/ai/utils/cost_tracker.py:136: note: Perhaps you meant "typing.Any" instead of "any"?
backend/app/services/ai/providers/factory.py:25: error: Incompatible default for argument "base_url" (default has type "None", argument has type "str")  [assignment]
backend/app/services/ai/providers/factory.py:25: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/services/ai/providers/factory.py:25: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/schemas/rag.py:197: error: Untyped decorator makes function "validate_name" untyped  [misc]
backend/app/schemas/rag.py:207: error: Untyped decorator makes function "validate_context_length" untyped  [misc]
backend/app/schemas/rag.py:209: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/schemas/rag.py:218: error: Untyped decorator makes function "validate_similarity_threshold" untyped  [misc]
backend/app/schemas/rag.py:228: error: Untyped decorator makes function "validate_chunk_overlap" untyped  [misc]
backend/app/schemas/rag.py:230: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/schemas/rag.py:300: error: Untyped decorator makes function "validate_query" untyped  [misc]
backend/app/schemas/hybrid_mode.py:51: error: Untyped decorator makes function "validate_importance" untyped  [misc]
backend/app/schemas/hybrid_mode.py:76: error: Untyped decorator makes function "validate_confidence" untyped  [misc]
backend/app/schemas/hybrid_mode.py:113: error: Untyped decorator makes function "validate_scores" untyped  [misc]
backend/app/schemas/hybrid_mode.py:150: error: Untyped decorator makes function "validate_thresholds" untyped  [misc]
backend/app/schemas/hybrid_mode.py:234: error: Untyped decorator makes function "validate_tokens_used" untyped  [misc]
backend/app/schemas/hybrid_mode.py:242: error: Untyped decorator makes function "validate_processing_time" untyped  [misc]
backend/app/schemas/conversation_intelligence.py:122: error: Untyped decorator makes function "validate_summary_text" untyped  [misc]
backend/app/schemas/conversation_intelligence.py:130: error: Untyped decorator makes function "validate_compression_ratio" untyped  [misc]
backend/app/schemas/conversation_intelligence.py:436: error: Untyped decorator makes function "validate_analysis_types" untyped  [misc]
backend/app/schemas/conversation_intelligence.py:673: error: Function is missing a type annotation  [no-untyped-def]
backend/app/schemas/agent.py:39: error: Untyped decorator makes function "validate_name" untyped  [misc]
backend/app/schemas/agent.py:47: error: Untyped decorator makes function "validate_arguments" untyped  [misc]
backend/app/schemas/agent.py:55: error: Untyped decorator makes function "validate_execution_time" untyped  [misc]
backend/app/schemas/agent.py:183: error: Untyped decorator makes function "validate_name" untyped  [misc]
backend/app/schemas/agent.py:191: error: Untyped decorator makes function "validate_description" untyped  [misc]
backend/app/schemas/agent.py:199: error: Untyped decorator makes function "validate_system_prompt" untyped  [misc]
backend/app/schemas/agent.py:209: error: Untyped decorator makes function "validate_tools" untyped  [misc]
backend/app/schemas/agent.py:226: error: Untyped decorator makes function "validate_personality" untyped  [misc]
backend/app/schemas/agent.py:234: error: Untyped decorator makes function "validate_instructions" untyped  [misc]
backend/app/schemas/agent.py:275: error: Untyped decorator makes function "validate_content" untyped  [misc]
backend/app/schemas/agent.py:283: error: Untyped decorator makes function "validate_confidence" untyped  [misc]
backend/app/schemas/agent.py:291: error: Untyped decorator makes function "validate_tokens_used" untyped  [misc]
backend/app/schemas/agent.py:299: error: Untyped decorator makes function "validate_processing_time" untyped  [misc]
backend/app/schemas/agent.py:338: error: Untyped decorator makes function "validate_current_step" untyped  [misc]
backend/app/schemas/agent.py:346: error: Untyped decorator makes function "validate_total_steps" untyped  [misc]
backend/app/schemas/agent.py:354: error: Untyped decorator makes function "validate_step_range" untyped  [misc]
backend/app/schemas/agent.py:356: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/schemas/agent.py:497: error: Untyped decorator makes function "validate_total" untyped  [misc]
backend/app/schemas/agent.py:505: error: Untyped decorator makes function "validate_pages" untyped  [misc]
backend/app/schemas/agent.py:531: error: Untyped decorator makes function "validate_from_agent" untyped  [misc]
backend/app/schemas/agent.py:539: error: Untyped decorator makes function "validate_to_agent" untyped  [misc]
backend/app/schemas/agent.py:580: error: Untyped decorator makes function "validate_agent_ids" untyped  [misc]
backend/app/models/base.py:71: error: Variable "backend.app.models.base.Base" is not valid as a type  [valid-type]
backend/app/models/base.py:71: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
backend/app/models/base.py:71: error: Invalid base class "Base"  [misc]
backend/app/models/base.py:156: error: Subclass of "str" and "UUID" cannot exist: would have incompatible method signatures  [unreachable]
backend/app/models/base.py:157: error: Statement is unreachable  [unreachable]
backend/app/core/weaviate_client.py:12: error: Cannot find implementation or library stub for module named "weaviate"  [import-not-found]
backend/app/core/weaviate_client.py:14: error: Cannot find implementation or library stub for module named "weaviate.classes.init"  [import-not-found]
backend/app/core/weaviate_client.py:35: error: Unused "type: ignore" comment  [unused-ignore]
backend/app/core/weaviate_client.py:42: error: Unused "type: ignore" comment  [unused-ignore]
backend/app/core/weaviate_client.py:42: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/weaviate_client.py:42: note: Error code "no-untyped-def" not covered by "type: ignore" comment
backend/app/core/weaviate_client.py:44: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/weaviate_client.py:46: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/weaviate_client.py:49: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/weaviate_client.py:57: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/weaviate_client.py:67: error: Unused "type: ignore" comment  [unused-ignore]
backend/app/core/weaviate_client.py:68: error: Unused "type: ignore" comment  [unused-ignore]
backend/app/core/weaviate_client.py:150: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/core/weaviate_client.py:254: error: Cannot find implementation or library stub for module named "weaviate.classes.query"  [import-not-found]
backend/app/core/pagination.py:419: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/core/pagination.py:457: error: Incompatible default for argument "additional_params" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/core/pagination.py:457: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/pagination.py:457: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/i18n.py:20: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/i18n.py:20: note: Use "-> None" if function does not return a value
backend/app/core/i18n.py:30: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/i18n.py:30: note: Use "-> None" if function does not return a value
backend/app/core/i18n.py:65: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/core/i18n.py:69: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/core/i18n.py:77: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/core/i18n.py:81: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/core/i18n.py:126: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/core/i18n.py:131: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/i18n.py:131: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/core/i18n.py:159: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/services/multi_agent_manager.py:29: error: Untyped decorator makes function "validate_from_agent" untyped  [misc]
backend/app/services/multi_agent_manager.py:37: error: Untyped decorator makes function "validate_to_agent" untyped  [misc]
backend/app/services/multi_agent_manager.py:77: error: Untyped decorator makes function "validate_agent_ids" untyped  [misc]
backend/app/services/multi_agent_manager.py:164: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/multi_agent_manager.py:164: note: Use "-> None" if function does not return a value
backend/app/services/email_service.py:40: error: Incompatible types in assignment (expression has type "str | None", target has type "str")  [assignment]
backend/app/services/email_service.py:60: error: Argument 1 to "SMTP" has incompatible type "str | None"; expected "str"  [arg-type]
backend/app/services/email_service.py:62: error: Argument 1 to "login" of "SMTP" has incompatible type "str | None"; expected "str"  [arg-type]
backend/app/services/email_service.py:62: error: Argument 2 to "login" of "SMTP" has incompatible type "str | None"; expected "str"  [arg-type]
backend/app/services/ai/middleware/cost_middleware.py:13: error: Function is missing a type annotation  [no-untyped-def]
backend/app/services/ai/middleware/cost_middleware.py:15: error: Missing positional argument "db" in call to "CostTracker"  [call-arg]
backend/app/services/ai/middleware/cost_middleware.py:29: error: Unexpected keyword argument "tokens_used" for "CostInfo"  [call-arg]
backend/app/services/ai/middleware/cost_middleware.py:29: error: Unexpected keyword argument "cost_usd" for "CostInfo"  [call-arg]
backend/app/services/ai/middleware/cost_middleware.py:29: error: Unexpected keyword argument "timestamp" for "CostInfo"  [call-arg]
backend/app/services/ai/middleware/cost_middleware.py:29: error: Unexpected keyword argument "user_id" for "CostInfo"  [call-arg]
backend/app/services/ai/middleware/cost_middleware.py:29: error: Unexpected keyword argument "conversation_id" for "CostInfo"  [call-arg]
backend/app/services/ai/middleware/cost_middleware.py:38: error: Item "CostTracker" of "Any | CostTracker" has no attribute "add_cost"  [union-attr]
backend/app/services/ai/middleware/cost_middleware.py:54: error: Unexpected keyword argument "tokens_used" for "CostInfo"  [call-arg]
backend/app/services/ai/middleware/cost_middleware.py:54: error: Unexpected keyword argument "cost_usd" for "CostInfo"  [call-arg]
backend/app/services/ai/middleware/cost_middleware.py:54: error: Unexpected keyword argument "timestamp" for "CostInfo"  [call-arg]
backend/app/services/ai/middleware/cost_middleware.py:54: error: Unexpected keyword argument "user_id" for "CostInfo"  [call-arg]
backend/app/services/ai/middleware/cost_middleware.py:54: error: Unexpected keyword argument "conversation_id" for "CostInfo"  [call-arg]
backend/app/services/ai/middleware/cost_middleware.py:63: error: Item "CostTracker" of "Any | CostTracker" has no attribute "add_cost"  [union-attr]
backend/app/services/ai/middleware/cost_middleware.py:116: error: Item "CostTracker" of "Any | CostTracker" has no attribute "get_costs_by_user"  [union-attr]
backend/app/services/ai/middleware/cost_middleware.py:155: error: Item "CostTracker" of "Any | CostTracker" has no attribute "get_costs_by_user"  [union-attr]
backend/app/services/ai/middleware/cost_middleware.py:197: error: Item "CostTracker" of "Any | CostTracker" has no attribute "get_costs_by_user"  [union-attr]
backend/app/services/ai/core/provider_manager.py:19: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/ai/core/provider_manager.py:19: note: Use "-> None" if function does not return a value
backend/app/services/ai/core/provider_manager.py:31: error: Unexpected keyword argument "provider_type" for "ProviderConfig"  [call-arg]
backend/app/services/ai/core/provider_manager.py:31: error: Unexpected keyword argument "default_model" for "ProviderConfig"  [call-arg]
backend/app/services/ai/core/provider_manager.py:31: error: Unexpected keyword argument "available_models" for "ProviderConfig"  [call-arg]
backend/app/services/ai/core/provider_manager.py:52: error: Unexpected keyword argument "provider_type" for "ProviderConfig"  [call-arg]
backend/app/services/ai/core/provider_manager.py:52: error: Unexpected keyword argument "default_model" for "ProviderConfig"  [call-arg]
backend/app/services/ai/core/provider_manager.py:52: error: Unexpected keyword argument "available_models" for "ProviderConfig"  [call-arg]
backend/app/services/ai/core/provider_manager.py:81: error: Argument "base_url" to "create_provider" of "AIProviderFactory" has incompatible type "str | None"; expected "str"  [arg-type]
backend/app/services/ai/core/provider_manager.py:106: error: Returning Any from function declared to return "list[str]"  [no-any-return]
backend/app/services/ai/core/provider_manager.py:106: error: "ProviderConfig" has no attribute "available_models"  [attr-defined]
backend/app/services/ai/core/provider_manager.py:113: error: Returning Any from function declared to return "str | None"  [no-any-return]
backend/app/services/ai/core/provider_manager.py:113: error: "ProviderConfig" has no attribute "default_model"  [attr-defined]
backend/app/services/ai/core/provider_manager.py:123: error: "ProviderConfig" has no attribute "available_models"  [attr-defined]
backend/app/services/ai/core/provider_manager.py:130: error: "ProviderConfig" has no attribute "provider_type"  [attr-defined]
backend/app/services/ai/core/provider_manager.py:230: error: Returning Any from function declared to return "float"  [no-any-return]
backend/app/services/ai/core/provider_manager.py:252: error: "ProviderConfig" has no attribute "provider_type"  [attr-defined]
backend/app/services/ai/core/provider_manager.py:253: error: "ProviderConfig" has no attribute "default_model"  [attr-defined]
backend/app/services/ai/core/provider_manager.py:254: error: "ProviderConfig" has no attribute "available_models"  [attr-defined]
backend/app/services/agents/agent_state.py:37: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/agents/agent_state.py:37: note: Use "-> None" if function does not return a value
backend/app/services/agents/agent_state.py:160: error: Argument 4 to "_record_status_change" of "AgentStateManager" has incompatible type "str | None"; expected "str"  [arg-type]
backend/app/services/agents/agent_state.py:352: error: Argument "key" to "sort" of "list" has incompatible type "Callable[[dict[str, object]], object]"; expected "Callable[[dict[str, object]], SupportsDunderLT[Any] | SupportsDunderGT[Any]]"  [arg-type]
backend/app/services/agents/agent_state.py:352: error: Incompatible return value type (got "object", expected "SupportsDunderLT[Any] | SupportsDunderGT[Any]")  [return-value]
backend/app/services/agents/agent_registry.py:37: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/agents/agent_registry.py:37: note: Use "-> None" if function does not return a value
backend/app/services/agents/agent_registry.py:194: error: Item "None" of "Any | None" has no attribute "model_dump"  [union-attr]
backend/app/services/agents/agent_performance.py:62: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/agents/agent_performance.py:62: note: Use "-> None" if function does not return a value
backend/app/services/agents/agent_performance.py:410: error: Need type annotation for "agent_metrics" (hint: "agent_metrics: dict[<type>, <type>] = ...")  [var-annotated]
backend/app/models/tool.py:77: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/models/tool.py:85: error: Library stubs not installed for "jsonschema"  [import-untyped]
backend/app/models/tool.py:85: note: Hint: "python3 -m pip install types-jsonschema"
backend/app/models/tool.py:92: error: Name "logger" is not defined  [name-defined]
backend/app/models/tool.py:97: error: Name "logger" is not defined  [name-defined]
backend/app/models/tool.py:100: error: Name "logger" is not defined  [name-defined]
backend/app/models/tool.py:110: error: Returning Any from function declared to return "str | None"  [no-any-return]
backend/app/models/permissions.py:113: error: Name "User" is not defined  [name-defined]
backend/app/models/permissions.py:115: error: Incompatible default for argument "context" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/models/permissions.py:115: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/models/permissions.py:115: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/models/permissions.py:132: error: Name "User" is not defined  [name-defined]
backend/app/models/permissions.py:163: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/models/permissions.py:166: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/models/permissions.py:241: error: Name "User" is not defined  [name-defined]
backend/app/models/permissions.py:243: error: Incompatible default for argument "context" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/models/permissions.py:243: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/models/permissions.py:243: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/models/permissions.py:249: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/models/knowledge.py:99: error: Function is missing a type annotation  [no-untyped-def]
backend/app/models/knowledge.py:176: error: Function is missing a type annotation  [no-untyped-def]
backend/app/models/knowledge.py:194: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/models/knowledge.py:217: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/models/knowledge.py:279: error: Function is missing a type annotation  [no-untyped-def]
backend/app/models/knowledge.py:285: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/models/knowledge.py:311: error: Function is missing a type annotation  [no-untyped-def]
backend/app/models/knowledge.py:360: error: Function is missing a type annotation  [no-untyped-def]
backend/app/models/domain_groups.py:233: error: Returning Any from function declared to return "int"  [no-any-return]
backend/app/models/domain_groups.py:238: error: Returning Any from function declared to return "int"  [no-any-return]
backend/app/models/domain_groups.py:244: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/models/domain_groups.py:247: error: Incompatible default for argument "access_level" (default has type "None", argument has type "AccessLevel")  [assignment]
backend/app/models/domain_groups.py:247: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/models/domain_groups.py:247: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/models/domain_groups.py:364: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/models/domain_groups.py:415: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/models/conversation.py:89: error: Returning Any from function declared to return "Message | None"  [no-any-return]
backend/app/models/conversation.py:92: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/models/conversation.py:92: note: Use "-> None" if function does not return a value
backend/app/models/conversation.py:179: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/models/conversation.py:184: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/models/conversation.py:189: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/models/audit_extended.py:281: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/models/assistant.py:84: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/models/assistant.py:98: error: Returning Any from function declared to return "dict[str, Any] | None"  [no-any-return]
backend/app/models/assistant.py:101: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/models/abac.py:91: error: Name "User" is not defined  [name-defined]
backend/app/models/abac.py:93: error: Incompatible default for argument "action" (default has type "None", argument has type "str")  [assignment]
backend/app/models/abac.py:93: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/models/abac.py:93: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/models/abac.py:94: error: Incompatible default for argument "context" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/models/abac.py:94: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/models/abac.py:94: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/models/abac.py:114: error: Name "User" is not defined  [name-defined]
backend/app/models/abac.py:203: error: Argument 1 to "_apply_operator" of "ABACRule" has incompatible type "Any | None"; expected "str"  [arg-type]
backend/app/models/abac.py:213: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/models/abac.py:215: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/models/abac.py:217: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/models/abac.py:219: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/models/abac.py:221: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/models/abac.py:223: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/models/abac.py:281: error: Name "User" is not defined  [name-defined]
backend/app/models/abac.py:283: error: Incompatible default for argument "action" (default has type "None", argument has type "str")  [assignment]
backend/app/models/abac.py:283: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/models/abac.py:283: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/models/abac.py:284: error: Incompatible default for argument "context" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/models/abac.py:284: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/models/abac.py:284: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/models/abac.py:295: error: Returning Any from function declared to return "bool | None"  [no-any-return]
backend/cli/utils/helpers.py:44: error: Function is missing a return type annotation  [no-untyped-def]
backend/cli/utils/helpers.py:51: error: Function is missing a type annotation  [no-untyped-def]
backend/cli/utils/helpers.py:65: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
backend/cli/commands/dev.py:9: error: Library stubs not installed for "requests"  [import-untyped]
backend/cli/commands/dev.py:10: error: Cannot find implementation or library stub for module named "cli.utils.output"  [import-not-found]
backend/cli/commands/dev.py:13: error: Cannot find implementation or library stub for module named "app.core.database"  [import-not-found]
backend/cli/commands/dev.py:14: error: Cannot find implementation or library stub for module named "app.models.user"  [import-not-found]
backend/cli/commands/dev.py:15: error: Cannot find implementation or library stub for module named "app.core.auth"  [import-not-found]
backend/app/services/weaviate_service.py:14: error: Cannot find implementation or library stub for module named "weaviate"  [import-not-found]
backend/app/services/weaviate_service.py:15: error: Cannot find implementation or library stub for module named "weaviate.classes.init"  [import-not-found]
backend/app/services/weaviate_service.py:16: error: Cannot find implementation or library stub for module named "weaviate.classes.query"  [import-not-found]
backend/app/services/weaviate_service.py:24: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/weaviate_service.py:24: note: Use "-> None" if function does not return a value
backend/app/services/docling_processor.py:15: error: Cannot find implementation or library stub for module named "docling"  [import-not-found]
backend/app/services/docling_processor.py:25: error: Cannot find implementation or library stub for module named "docling.document"  [import-not-found]
backend/app/services/docling_processor.py:33: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/docling_processor.py:33: note: Use "-> None" if function does not return a value
backend/app/services/ai_models_service.py:13: error: Returning Any from function declared to return "list[AIModel]"  [no-any-return]
backend/app/services/ai_models_service.py:16: error: Returning Any from function declared to return "AIModel | None"  [no-any-return]
backend/app/services/storage/local.py:35: error: Incompatible default for argument "metadata" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/services/storage/local.py:35: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/services/storage/local.py:35: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/services/document/error_handler.py:77: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/document/error_handler.py:177: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/document/error_handler.py:180: error: "DocumentProcessingError" has no attribute "message"  [attr-defined]
backend/app/services/document/error_handler.py:196: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/document/error_handler.py:204: error: "DocumentProcessingError" has no attribute "message"  [attr-defined]
backend/app/services/document/error_handler.py:210: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/document/backup_manager.py:107: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/document/backup_manager.py:107: note: Use "-> None" if function does not return a value
backend/app/services/document/backup_manager.py:378: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/document/backup_manager.py:465: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/document/backup_manager.py:487: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/document/backup_manager.py:559: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/document/backup_manager.py:594: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/document/backup_manager.py:671: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/audit/audit_retention.py:23: error: Incompatible default for argument "event_types" (default has type "None", argument has type "list[str]")  [assignment]
backend/app/services/audit/audit_retention.py:23: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/services/audit/audit_retention.py:23: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/services/audit/audit_retention.py:71: error: Returning Any from function declared to return "int"  [no-any-return]
backend/app/services/audit/audit_retention.py:89: error: "object" has no attribute "append"  [attr-defined]
backend/app/services/audit/audit_policy.py:38: error: Returning Any from function declared to return "list[AuditPolicy]"  [no-any-return]
backend/app/services/audit/audit_logger.py:39: error: Incompatible default for argument "user_id" (default has type "None", argument has type "int")  [assignment]
backend/app/services/audit/audit_logger.py:39: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/services/audit/audit_logger.py:39: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/services/audit/audit_logger.py:39: error: Incompatible default for argument "event_type" (default has type "None", argument has type "str")  [assignment]
backend/app/services/audit/audit_logger.py:49: error: Returning Any from function declared to return "list[AuditLog]"  [no-any-return]
backend/app/services/audit/audit_logger.py:70: error: Need type annotation for "counts" (hint: "counts: dict[<type>, <type>] = ...")  [var-annotated]
backend/app/services/audit/audit_logger.py:77: error: Need type annotation for "counts" (hint: "counts: dict[<type>, <type>] = ...")  [var-annotated]
backend/app/services/audit/audit_alerts.py:40: error: Incompatible default for argument "resolved" (default has type "None", argument has type "bool")  [assignment]
backend/app/services/audit/audit_alerts.py:40: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/services/audit/audit_alerts.py:40: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/services/audit/audit_alerts.py:40: error: Incompatible default for argument "severity" (default has type "None", argument has type "str")  [assignment]
backend/app/services/audit/audit_alerts.py:51: error: Returning Any from function declared to return "list[AuditAlert]"  [no-any-return]
backend/app/services/audit/audit_alerts.py:74: error: Need type annotation for "severity_counts" (hint: "severity_counts: dict[<type>, <type>] = ...")  [var-annotated]
backend/app/services/ai/utils/tool_manager.py:63: error: "BaseTool" has no attribute "get_required_parameters"  [attr-defined]
backend/app/services/ai/utils/tool_manager.py:64: error: "BaseTool" has no attribute "get_optional_parameters"  [attr-defined]
backend/app/services/ai/utils/tool_manager.py:92: error: Too many arguments for "validate_parameters" of "BaseTool"  [call-arg]
backend/app/services/ai/utils/tool_manager.py:95: error: Too many arguments for "execute" of "BaseTool"  [call-arg]
backend/app/services/ai/core/response_handler.py:21: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/ai/core/response_handler.py:21: note: Use "-> None" if function does not return a value
backend/app/services/ai/core/response_handler.py:119: error: Statement is unreachable  [unreachable]
backend/app/services/ai/core/response_handler.py:132: error: Returning Any from function declared to return "dict[str, int]"  [no-any-return]
backend/app/services/ai/core/response_handler.py:135: error: Returning Any from function declared to return "dict[str, int]"  [no-any-return]
backend/app/services/ai/core/response_handler.py:142: error: Returning Any from function declared to return "str | None"  [no-any-return]
backend/app/services/ai/core/response_handler.py:146: error: Returning Any from function declared to return "str | None"  [no-any-return]
backend/app/services/ai/core/chat_processor.py:16: error: Function is missing a type annotation  [no-untyped-def]
backend/app/services/ai/core/chat_processor.py:119: error: Returning Any from function declared to return "ChatResponse"  [no-any-return]
backend/app/services/ai/core/chat_processor.py:127: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/ai/core/chat_processor.py:200: error: "Coroutine[Any, Any, AsyncGenerator[ChatCompletionChunk, None]]" has no attribute "__aiter__" (not async iterable)  [attr-defined]
backend/app/services/ai/core/chat_processor.py:200: note: Maybe you forgot to use "await"?
backend/app/services/ai/core/chat_processor.py:273: error: Returning Any from function declared to return "EmbeddingResponse"  [no-any-return]
backend/app/services/ai/core/chat_processor.py:303: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/agents/agent_handoff.py:42: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/agents/agent_handoff.py:42: note: Use "-> None" if function does not return a value
backend/app/services/agents/agent_handoff.py:207: error: "type[datetime]" has no attribute "timedelta"  [attr-defined]
backend/app/services/agents/agent_handoff.py:246: error: Need type annotation for "reason_counts" (hint: "reason_counts: dict[<type>, <type>] = ...")  [var-annotated]
backend/app/services/agents/agent_collaboration.py:61: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/agents/agent_collaboration.py:61: note: Use "-> None" if function does not return a value
backend/app/services/agents/agent_collaboration.py:340: error: "type[datetime]" has no attribute "timedelta"  [attr-defined]
backend/app/services/agents/agent_collaboration.py:358: error: Need type annotation for "type_counts" (hint: "type_counts: dict[<type>, <type>] = ...")  [var-annotated]
backend/app/services/agents/agent_collaboration.py:393: error: "type[datetime]" has no attribute "timedelta"  [attr-defined]
backend/app/schemas/domain_groups.py:71: error: Function is missing a type annotation  [no-untyped-def]
backend/app/schemas/conversation.py:65: error: Untyped decorator makes function "validate_content" untyped  [misc]
backend/app/schemas/conversation.py:73: error: Untyped decorator makes function "validate_tool_name" untyped  [misc]
backend/app/schemas/conversation.py:81: error: Untyped decorator makes function "validate_tokens_used" untyped  [misc]
backend/app/schemas/conversation.py:173: error: Untyped decorator makes function "validate_title" untyped  [misc]
backend/app/schemas/conversation.py:181: error: Untyped decorator makes function "validate_description" untyped  [misc]
backend/app/schemas/conversation.py:189: error: Untyped decorator makes function "validate_tags" untyped  [misc]
backend/app/schemas/conversation.py:250: error: Untyped decorator makes function "validate_message_count" untyped  [misc]
backend/app/schemas/conversation.py:258: error: Untyped decorator makes function "validate_total_tokens" untyped  [misc]
backend/app/schemas/conversation.py:285: error: Untyped decorator makes function "validate_total" untyped  [misc]
backend/app/schemas/conversation.py:293: error: Untyped decorator makes function "validate_pages" untyped  [misc]
backend/app/schemas/conversation.py:332: error: Untyped decorator makes function "validate_query" untyped  [misc]
backend/app/schemas/conversation.py:340: error: Untyped decorator makes function "validate_date_range" untyped  [misc]
backend/app/schemas/conversation.py:354: error: Untyped decorator makes function "validate_date_order" untyped  [misc]
backend/app/schemas/conversation.py:356: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/schemas/audit_extended.py:498: error: Function is missing a type annotation  [no-untyped-def]
backend/app/schemas/audit_extended.py:505: error: Function is missing a type annotation  [no-untyped-def]
backend/app/schemas/audit_extended.py:521: error: Function is missing a type annotation  [no-untyped-def]
backend/app/schemas/audit_extended.py:528: error: Function is missing a type annotation  [no-untyped-def]
backend/app/schemas/audit_extended.py:538: error: Function is missing a type annotation  [no-untyped-def]
backend/app/monitoring/core/metrics.py:183: error: Value of type "object" is not indexable  [index]
backend/app/monitoring/core/metrics.py:183: error: Unsupported target for indexed assignment ("object")  [index]
backend/app/monitoring/core/metrics.py:184: error: Value of type "object" is not indexable  [index]
backend/app/monitoring/core/metrics.py:184: error: Unsupported target for indexed assignment ("object")  [index]
backend/app/core/structured_logging.py:25: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/structured_logging.py:25: note: Use "-> None" if function does not return a value
backend/app/core/structured_logging.py:30: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/structured_logging.py:30: note: Use "-> None" if function does not return a value
backend/app/core/structured_logging.py:57: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/structured_logging.py:57: note: Use "-> None" if function does not return a value
backend/app/core/structured_logging.py:61: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/structured_logging.py:141: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/structured_logging.py:141: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/core/structured_logging.py:145: error: Incompatible default for argument "event_type" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:145: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:145: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:146: error: Incompatible default for argument "user_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:146: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:146: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:147: error: Incompatible default for argument "session_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:147: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:147: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:148: error: Incompatible default for argument "request_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:148: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:148: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:149: error: Incompatible default for argument "endpoint" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:149: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:149: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:150: error: Incompatible default for argument "method" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:150: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:150: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:151: error: Incompatible default for argument "status_code" (default has type "None", argument has type "int")  [assignment]
backend/app/core/structured_logging.py:151: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:151: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:152: error: Incompatible default for argument "duration" (default has type "None", argument has type "float")  [assignment]
backend/app/core/structured_logging.py:152: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:152: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:153: error: Incompatible default for argument "extra" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/core/structured_logging.py:153: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:153: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:181: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/structured_logging.py:187: error: Incompatible default for argument "user_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:187: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:187: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:188: error: Incompatible default for argument "request_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:188: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:188: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:189: error: Incompatible default for argument "request_size" (default has type "None", argument has type "int")  [assignment]
backend/app/core/structured_logging.py:189: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:189: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:190: error: Incompatible default for argument "response_size" (default has type "None", argument has type "int")  [assignment]
backend/app/core/structured_logging.py:190: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:190: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:191: error: Incompatible default for argument "error" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:191: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:191: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:209: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/structured_logging.py:214: error: Incompatible default for argument "rows_affected" (default has type "None", argument has type "int")  [assignment]
backend/app/core/structured_logging.py:214: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:214: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:215: error: Incompatible default for argument "error" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:215: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:215: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:229: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/structured_logging.py:233: error: Incompatible default for argument "user_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:233: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:233: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:234: error: Incompatible default for argument "ip_address" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:234: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:234: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:236: error: Incompatible default for argument "details" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/core/structured_logging.py:236: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:236: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:249: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/structured_logging.py:253: error: Incompatible default for argument "unit" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:253: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:253: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:254: error: Incompatible default for argument "tags" (default has type "None", argument has type "dict[str, str]")  [assignment]
backend/app/core/structured_logging.py:254: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:254: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:268: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/structured_logging.py:271: error: Incompatible default for argument "attributes" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/core/structured_logging.py:271: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:271: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:272: error: Incompatible default for argument "user_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:272: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:272: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:273: error: Incompatible default for argument "request_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:273: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:273: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:324: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/structured_logging.py:332: error: Incompatible types in assignment (expression has type "FrameType | None", variable has type "FrameType")  [assignment]
backend/app/core/structured_logging.py:345: error: Incompatible default for argument "name" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:345: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:345: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:347: error: Incompatible return value type (got "None", expected "StructuredLogger")  [return-value]
backend/app/core/structured_logging.py:350: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/structured_logging.py:350: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/core/structured_logging.py:353: error: Incompatible default for argument "event_type" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:353: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:353: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:354: error: Incompatible default for argument "user_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:354: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:354: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:355: error: Incompatible default for argument "session_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:355: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:355: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:356: error: Incompatible default for argument "request_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:356: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:356: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:357: error: Incompatible default for argument "endpoint" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:357: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:357: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:358: error: Incompatible default for argument "method" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:358: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:358: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:359: error: Incompatible default for argument "status_code" (default has type "None", argument has type "int")  [assignment]
backend/app/core/structured_logging.py:359: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:359: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:360: error: Incompatible default for argument "duration" (default has type "None", argument has type "float")  [assignment]
backend/app/core/structured_logging.py:360: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:360: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:361: error: Incompatible default for argument "extra" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/core/structured_logging.py:361: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:361: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:366: error: Statement is unreachable  [unreachable]
backend/app/core/structured_logging.py:385: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/structured_logging.py:390: error: Incompatible default for argument "user_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:390: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:390: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:391: error: Incompatible default for argument "request_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:391: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:391: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:392: error: Incompatible default for argument "request_size" (default has type "None", argument has type "int")  [assignment]
backend/app/core/structured_logging.py:392: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:392: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:393: error: Incompatible default for argument "response_size" (default has type "None", argument has type "int")  [assignment]
backend/app/core/structured_logging.py:393: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:393: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:394: error: Incompatible default for argument "error" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:394: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:394: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:397: error: "None" has no attribute "log_api_request"  [attr-defined]
backend/app/core/structured_logging.py:410: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/structured_logging.py:414: error: Incompatible default for argument "rows_affected" (default has type "None", argument has type "int")  [assignment]
backend/app/core/structured_logging.py:414: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:414: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:415: error: Incompatible default for argument "error" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:415: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:415: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:418: error: "None" has no attribute "log_database_query"  [attr-defined]
backend/app/core/structured_logging.py:427: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/structured_logging.py:430: error: Incompatible default for argument "user_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:430: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:430: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:431: error: Incompatible default for argument "ip_address" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:431: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:431: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:433: error: Incompatible default for argument "details" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/core/structured_logging.py:433: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:433: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:436: error: "None" has no attribute "log_security_event"  [attr-defined]
backend/app/core/structured_logging.py:446: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/structured_logging.py:449: error: Incompatible default for argument "unit" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:449: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:449: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:450: error: Incompatible default for argument "tags" (default has type "None", argument has type "dict[str, str]")  [assignment]
backend/app/core/structured_logging.py:450: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:450: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:453: error: "None" has no attribute "log_performance_metric"  [attr-defined]
backend/app/core/structured_logging.py:461: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/structured_logging.py:463: error: Incompatible default for argument "attributes" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/core/structured_logging.py:463: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:463: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:464: error: Incompatible default for argument "user_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:464: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:464: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:465: error: Incompatible default for argument "request_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/structured_logging.py:465: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/structured_logging.py:465: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/structured_logging.py:468: error: "None" has no attribute "trace_operation"  [attr-defined]
backend/app/core/opentelemetry_config.py:33: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/opentelemetry_config.py:33: note: Use "-> None" if function does not return a value
backend/app/core/opentelemetry_config.py:39: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/opentelemetry_config.py:97: error: Incompatible return value type (got "str | None", expected "bool")  [return-value]
backend/app/core/opentelemetry_config.py:99: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/opentelemetry_config.py:119: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/opentelemetry_config.py:145: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/opentelemetry_config.py:149: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/opentelemetry_config.py:153: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/opentelemetry_config.py:157: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/opentelemetry_config.py:157: note: Use "-> None" if function does not return a value
backend/app/core/opentelemetry_config.py:162: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/opentelemetry_config.py:162: error: Incompatible default for argument "name" (default has type "None", argument has type "str")  [assignment]
backend/app/core/opentelemetry_config.py:162: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/opentelemetry_config.py:162: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/opentelemetry_config.py:168: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/opentelemetry_config.py:168: error: Incompatible default for argument "name" (default has type "None", argument has type "str")  [assignment]
backend/app/core/opentelemetry_config.py:168: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/opentelemetry_config.py:168: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/opentelemetry_config.py:174: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/opentelemetry_config.py:174: note: Use "-> None" if function does not return a value
backend/app/core/opentelemetry_config.py:186: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/opentelemetry_config.py:186: error: Incompatible default for argument "name" (default has type "None", argument has type "str")  [assignment]
backend/app/core/opentelemetry_config.py:186: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/opentelemetry_config.py:186: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/opentelemetry_config.py:191: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/opentelemetry_config.py:191: error: Incompatible default for argument "name" (default has type "None", argument has type "str")  [assignment]
backend/app/core/opentelemetry_config.py:191: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/opentelemetry_config.py:191: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/opentelemetry_config.py:196: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/opentelemetry_config.py:201: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/opentelemetry_config.py:201: note: Use "-> None" if function does not return a value
backend/cli/commands/user.py:6: error: Cannot find implementation or library stub for module named "cli.utils.helpers"  [import-not-found]
backend/cli/commands/user.py:7: error: Cannot find implementation or library stub for module named "cli.utils.output"  [import-not-found]
backend/cli/commands/user.py:8: error: Cannot find implementation or library stub for module named "cli.utils.validation"  [import-not-found]
backend/cli/commands/user.py:21: error: Cannot find implementation or library stub for module named "app.core.database"  [import-not-found]
backend/cli/commands/user.py:22: error: Cannot find implementation or library stub for module named "app.models.user"  [import-not-found]
backend/cli/commands/user.py:23: error: Cannot find implementation or library stub for module named "app.core.auth"  [import-not-found]
backend/cli/commands/user.py:221: error: Incompatible default for argument "first_name" (default has type "None", argument has type "str")  [assignment]
backend/cli/commands/user.py:221: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/cli/commands/user.py:221: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/cli/commands/user.py:222: error: Incompatible default for argument "last_name" (default has type "None", argument has type "str")  [assignment]
backend/cli/commands/user.py:222: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/cli/commands/user.py:222: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/cli/commands/user.py:289: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/services/storage/factory.py:25: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/factory.py:114: error: Incompatible return value type (got "Coroutine[Any, Any, bool]", expected "bool")  [return-value]
backend/app/services/storage/factory.py:114: note: Maybe you forgot to use "await"?
backend/app/services/storage/factory.py:121: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/factory.py:121: note: Use "-> None" if function does not return a value
backend/app/services/storage/factory.py:126: error: Cannot find implementation or library stub for module named "backend.app.services.storage.s3"  [import-not-found]
backend/app/services/storage/factory.py:135: error: Cannot find implementation or library stub for module named "backend.app.services.storage.gcs"  [import-not-found]
backend/app/services/storage/factory.py:144: error: Cannot find implementation or library stub for module named "backend.app.services.storage.azure"  [import-not-found]
backend/app/services/ai/middleware/tool_middleware.py:14: error: Function is missing a type annotation  [no-untyped-def]
backend/app/services/ai/middleware/tool_middleware.py:16: error: Missing positional argument "db" in call to "ToolManager"  [call-arg]
backend/app/services/ai/middleware/tool_middleware.py:34: error: Argument 2 to "_add_tool_information" of "ToolMiddleware" has incompatible type "Any | list[str]"; expected "list[dict[str, Any]]"  [arg-type]
backend/app/services/ai/middleware/tool_middleware.py:131: error: "ToolCall" has no attribute "parameters"  [attr-defined]
backend/app/services/ai/middleware/tool_middleware.py:141: error: "ToolCall" has no attribute "parameters"  [attr-defined]
backend/app/services/ai/middleware/tool_middleware.py:156: error: "ToolCall" has no attribute "parameters"  [attr-defined]
backend/app/services/ai/middleware/tool_middleware.py:183: error: Unexpected keyword argument "parameters" for "ToolCall"  [call-arg]
backend/app/monitoring/middleware/performance_middleware.py:21: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/monitoring/middleware/performance_middleware.py:26: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/monitoring/middleware/performance_middleware.py:26: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/monitoring/middleware/performance_middleware.py:188: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/monitoring/middleware/performance_middleware.py:192: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/monitoring/middleware/performance_middleware.py:196: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/monitoring/core/alerts.py:57: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/monitoring/core/alerts.py:57: note: Use "-> None" if function does not return a value
backend/app/monitoring/core/alerts.py:218: error: Unsupported target for indexed assignment ("object")  [index]
backend/app/monitoring/core/alerts.py:219: error: "object" has no attribute "get"  [attr-defined]
backend/app/core/csrf_protection.py:19: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/csrf_protection.py:19: note: Use "-> None" if function does not return a value
backend/app/core/csrf_protection.py:27: error: Incompatible default for argument "session_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/csrf_protection.py:27: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/csrf_protection.py:27: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/csrf_protection.py:55: error: Incompatible default for argument "session_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/csrf_protection.py:55: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/csrf_protection.py:55: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/csrf_protection.py:107: error: Incompatible default for argument "session_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/csrf_protection.py:107: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/csrf_protection.py:107: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/csrf_protection.py:177: error: Returning Any from function declared to return "dict[Any, Any] | None"  [no-any-return]
backend/app/core/csrf_protection.py:216: error: Incompatible default for argument "session_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/csrf_protection.py:216: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/csrf_protection.py:216: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/csrf_protection.py:221: error: Incompatible default for argument "session_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/csrf_protection.py:221: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/csrf_protection.py:221: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/csrf_protection.py:226: error: Incompatible default for argument "session_id" (default has type "None", argument has type "str")  [assignment]
backend/app/core/csrf_protection.py:226: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/csrf_protection.py:226: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/alembic/env.py:3: error: Cannot find implementation or library stub for module named "alembic"  [import-not-found]
backend/alembic/env.py:17: error: Cannot find implementation or library stub for module named "app.models.base"  [import-not-found]
backend/tests/unit/core/test_security_hardening_password_reset.py:21: error: Function is missing a return type annotation  [no-untyped-def]
backend/tests/unit/core/test_security_hardening_password_reset.py:25: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/core/test_security_hardening_password_reset.py:38: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/core/test_security_hardening_password_reset.py:49: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/core/test_security_hardening_password_reset.py:61: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/core/test_security_hardening_password_reset.py:83: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/core/test_security_hardening_password_reset.py:101: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/core/test_security_hardening_password_reset.py:127: error: Function is missing a return type annotation  [no-untyped-def]
backend/tests/unit/core/test_security_hardening_password_reset.py:131: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/core/test_security_hardening_password_reset.py:139: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/core/test_security_hardening_password_reset.py:147: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/core/test_security_hardening_password_reset.py:153: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/core/test_security_hardening_password_reset.py:157: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/core/test_security_hardening_password_reset.py:162: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/core/test_security_hardening_password_reset.py:174: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/core/test_security_hardening_password_reset.py:185: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/core/test_security_hardening_password_reset.py:198: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/core/test_security_hardening_password_reset.py:202: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/core/test_security_hardening_password_reset.py:219: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/core/test_security_hardening_password_reset.py:231: error: Function is missing a type annotation  [no-untyped-def]
backend/app/tools/search_tools.py:10: error: Cannot find implementation or library stub for module named "aiohttp"  [import-not-found]
backend/app/tools/search_tools.py:21: error: Incompatible types in assignment (expression has type "dict[str, object]", base class "BaseTool" defined the type as "list[ToolParameter]")  [assignment]
backend/app/tools/search_tools.py:56: error: Signature of "execute" incompatible with supertype "backend.app.tools.base.BaseTool"  [override]
backend/app/tools/search_tools.py:56: note:      Superclass:
backend/app/tools/search_tools.py:56: note:          def execute(self, **kwargs: Any) -> Coroutine[Any, Any, ToolResult]
backend/app/tools/search_tools.py:56: note:      Subclass:
backend/app/tools/search_tools.py:56: note:          def execute(self, query: str, top_k: int = ..., time_range: str = ..., lang: str = ..., site: str = ..., safe_mode: bool = ..., sources: list[str] | None = ...) -> Coroutine[Any, Any, dict[str, Any]]
backend/app/tools/search_tools.py:146: error: Incompatible types in assignment (expression has type "dict[str, dict[str, str]]", base class "BaseTool" defined the type as "list[ToolParameter]")  [assignment]
backend/app/tools/search_tools.py:158: error: Signature of "execute" incompatible with supertype "backend.app.tools.base.BaseTool"  [override]
backend/app/tools/search_tools.py:158: note:      Superclass:
backend/app/tools/search_tools.py:158: note:          def execute(self, **kwargs: Any) -> Coroutine[Any, Any, ToolResult]
backend/app/tools/search_tools.py:158: note:      Subclass:
backend/app/tools/search_tools.py:158: note:          def execute(self, query: str, language: str = ...) -> Coroutine[Any, Any, dict[str, Any]]
backend/app/tools/example_mcp_server.py:14: error: Cannot find implementation or library stub for module named "aiohttp"  [import-not-found]
backend/app/tools/example_mcp_server.py:127: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/tools/example_mcp_server.py:127: note: Use "-> None" if function does not return a value
backend/app/tools/example_mcp_server.py:472: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/tools/example_mcp_server.py:485: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/tools/example_mcp_server.py:490: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/tools/example_mcp_server.py:490: note: Use "-> None" if function does not return a value
backend/app/services/embedding_service.py:16: error: Cannot find implementation or library stub for module named "numpy"  [import-not-found]
backend/app/services/embedding_service.py:17: error: Cannot find implementation or library stub for module named "litellm"  [import-not-found]
backend/app/services/embedding_service.py:85: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/embedding_service.py:85: note: Use "-> None" if function does not return a value
backend/app/services/embedding_service.py:230: error: Argument 1 to "append" of "list" has incompatible type "None"; expected "EmbeddingResult"  [arg-type]
backend/app/services/embedding_service.py:291: error: Incompatible return value type (got "None", expected "list[list[float]]")  [return-value]
backend/app/services/embedding_service.py:296: error: Incompatible default for argument "model" (default has type "None", argument has type "str")  [assignment]
backend/app/services/embedding_service.py:296: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/services/embedding_service.py:296: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/services/embedding_service.py:321: error: Returning Any from function declared to return "list[list[float]]"  [no-any-return]
backend/app/services/embedding_service.py:336: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/embedding_service.py:364: error: Returning Any from function declared to return "float"  [no-any-return]
backend/app/services/embedding_service.py:382: error: Incompatible return value type (got "EmbeddingResult | None", expected "list[float] | None")  [return-value]
backend/app/services/embedding_service.py:421: error: Statement is unreachable  [unreachable]
backend/app/services/embedding_service.py:796: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/embedding_service.py:796: note: Use "-> None" if function does not return a value
backend/app/services/embedding_service.py:870: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/services/embedding_service.py:886: error: Incompatible return value type (got "EmbeddingResult | None", expected "EmbeddingResult")  [return-value]
backend/app/services/embedding_service.py:889: error: Incompatible return value type (got "None", expected "EmbeddingResult")  [return-value]
backend/app/services/embedding_service.py:931: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/embedding_service.py:933: error: Module "backend.app.core.weaviate_client" has no attribute "get_weaviate_client"; maybe "weaviate_client", "get_weaviate_info", or "get_weaviate"?  [attr-defined]
backend/app/services/context_manager.py:60: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/context_manager.py:60: note: Use "-> None" if function does not return a value
backend/app/services/context_manager.py:86: error: Missing positional argument "assistant_id" in call to "ConversationContext"  [call-arg]
backend/app/services/context_manager.py:368: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/context_manager.py:374: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/context_manager.py:388: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/context_manager.py:405: error: Incompatible return value type (got "tuple[float, float]", expected "tuple[float, datetime]")  [return-value]
backend/app/services/context_manager.py:456: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/context_manager.py:456: note: Use "-> None" if function does not return a value
backend/app/services/async_processor.py:83: error: Untyped decorator makes function "validate_task_id" untyped  [misc]
backend/app/services/async_processor.py:91: error: Untyped decorator makes function "validate_payload" untyped  [misc]
backend/app/services/async_processor.py:184: error: No overload variant of "__sub__" of "datetime" matches argument type "None"  [operator]
backend/app/services/async_processor.py:184: note: Possible overload variants:
backend/app/services/async_processor.py:184: note:     def __sub__(self, datetime, /) -> timedelta
backend/app/services/async_processor.py:184: note:     def __sub__(self, timedelta, /) -> datetime
backend/app/services/async_processor.py:184: note: Right operand is of type "datetime | None"
backend/app/services/async_processor.py:196: error: No overload variant of "__sub__" of "datetime" matches argument type "None"  [operator]
backend/app/services/async_processor.py:196: note: Possible overload variants:
backend/app/services/async_processor.py:196: note:     def __sub__(self, datetime, /) -> timedelta
backend/app/services/async_processor.py:196: note:     def __sub__(self, timedelta, /) -> datetime
backend/app/services/async_processor.py:196: note: Right operand is of type "datetime | None"
backend/app/services/async_processor.py:207: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/async_processor.py:207: note: Use "-> None" if function does not return a value
backend/app/services/async_processor.py:249: error: Returning Any from function declared to return "TaskRequest | None"  [no-any-return]
backend/app/services/async_processor.py:269: error: Incompatible types in assignment (expression has type "int", target has type "dict[str, int]")  [assignment]
backend/app/services/async_processor.py:270: error: Incompatible types in assignment (expression has type "int", target has type "dict[str, int]")  [assignment]
backend/app/services/async_processor.py:545: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/async_processor.py:545: note: Use "-> None" if function does not return a value
backend/app/services/storage/connection_pool.py:60: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/connection_pool.py:60: note: Use "-> None" if function does not return a value
backend/app/services/storage/connection_pool.py:70: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/connection_pool.py:70: note: Use "-> None" if function does not return a value
backend/app/services/storage/connection_pool.py:79: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/connection_pool.py:79: note: Use "-> None" if function does not return a value
backend/app/services/storage/connection_pool.py:98: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/connection_pool.py:158: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/services/storage/connection_pool.py:206: error: Exception must be derived from BaseException  [misc]
backend/app/services/storage/connection_pool.py:208: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/connection_pool.py:208: note: Use "-> None" if function does not return a value
backend/app/services/storage/connection_pool.py:236: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/connection_pool.py:236: note: Use "-> None" if function does not return a value
backend/app/services/storage/connection_pool.py:247: error: Incompatible default for argument "config" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/services/storage/connection_pool.py:247: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/services/storage/connection_pool.py:247: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/services/storage/connection_pool.py:256: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/connection_pool.py:256: note: Use "-> None" if function does not return a value
backend/app/services/storage/batch_operations.py:30: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
backend/app/services/storage/batch_operations.py:32: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/batch_operations.py:32: note: Use "-> None" if function does not return a value
backend/app/services/storage/batch_operations.py:34: error: Statement is unreachable  [unreachable]
backend/app/services/storage/batch_operations.py:136: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/batch_operations.py:136: note: Use "-> None" if function does not return a value
backend/app/services/storage/batch_operations.py:141: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/batch_operations.py:141: note: Use "-> None" if function does not return a value
backend/app/services/storage/batch_operations.py:150: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/batch_operations.py:150: note: Use "-> None" if function does not return a value
backend/app/services/storage/batch_operations.py:167: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/batch_operations.py:207: error: Incompatible types in assignment (expression has type "Any | None", variable has type "dict[str, Any] | BaseException")  [assignment]
backend/app/services/storage/batch_operations.py:296: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/batch_operations.py:296: note: Use "-> None" if function does not return a value
backend/app/services/storage/batch_operations.py:309: error: Incompatible default for argument "config" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/services/storage/batch_operations.py:309: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/services/storage/batch_operations.py:309: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/services/storage/batch_operations.py:323: error: Incompatible default for argument "config" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/services/storage/batch_operations.py:323: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/services/storage/batch_operations.py:323: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/services/storage/batch_operations.py:336: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/services/document/recovery_manager.py:89: error: Incompatible default for argument "max_retries" (default has type "None", argument has type "int")  [assignment]
backend/app/services/document/recovery_manager.py:89: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/services/document/recovery_manager.py:89: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/services/document/recovery_manager.py:90: error: Incompatible default for argument "recovery_strategies" (default has type "None", argument has type "list[RecoveryStrategy]")  [assignment]
backend/app/services/document/recovery_manager.py:90: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/services/document/recovery_manager.py:90: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/services/document/recovery_manager.py:107: error: Statement is unreachable  [unreachable]
backend/app/services/document/recovery_manager.py:109: error: Statement is unreachable  [unreachable]
backend/app/services/document/recovery_manager.py:296: error: "dict[str, Any]" has no attribute "strip"  [attr-defined]
backend/app/services/document/recovery_manager.py:298: error: Argument 1 to "_create_basic_chunks" of "DocumentRecoveryManager" has incompatible type "dict[str, Any]"; expected "str"  [arg-type]
backend/app/services/document/recovery_manager.py:338: error: Need type annotation for "chunks" (hint: "chunks: list[<type>] = ...")  [var-annotated]
backend/app/services/document/recovery_manager.py:358: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/redis_client.py:11: error: Cannot find implementation or library stub for module named "redis.asyncio"  [import-not-found]
backend/app/core/redis_client.py:11: error: Cannot find implementation or library stub for module named "redis"  [import-not-found]
backend/app/core/audit_monitoring.py:14: error: Cannot find implementation or library stub for module named "redis"  [import-not-found]
backend/app/core/audit_monitoring.py:174: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "str")  [assignment]
backend/app/core/audit_monitoring.py:225: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
backend/app/core/audit_monitoring.py:237: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
backend/app/core/audit_monitoring.py:383: error: Dict entry 4 has incompatible type "str": "float | int"; expected "str": "int | None"  [dict-item]
backend/app/core/audit_monitoring.py:599: error: Need type annotation for "performance"  [var-annotated]
backend/app/core/audit_monitoring.py:623: error: Need type annotation for "trends"  [var-annotated]
backend/app/utils/security.py:19: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/utils/security.py:27: error: Item "None" of "Any | None" has no attribute "get"  [union-attr]
backend/app/utils/security.py:29: error: Item "None" of "Any | None" has no attribute "set"  [union-attr]
backend/app/utils/security.py:37: error: Item "None" of "Any | None" has no attribute "incr"  [union-attr]
backend/app/utils/security.py:103: error: Item "None" of "Any | None" has no attribute "get"  [union-attr]
backend/app/utils/security.py:106: error: Item "None" of "Any | None" has no attribute "set"  [union-attr]
backend/app/utils/security.py:114: error: Item "None" of "Any | None" has no attribute "incr"  [union-attr]
backend/app/services/cache_service.py:13: error: Cannot find implementation or library stub for module named "redis.asyncio"  [import-not-found]
backend/app/services/cache_service.py:13: error: Cannot find implementation or library stub for module named "redis"  [import-not-found]
backend/app/services/cache_service.py:50: error: Untyped decorator makes function "validate_redis_url" untyped  [misc]
backend/app/services/cache_service.py:269: error: Item "None" of "Any | None" has no attribute "get"  [union-attr]
backend/app/services/cache_service.py:291: error: Item "None" of "Any | None" has no attribute "setex"  [union-attr]
backend/app/services/cache_service.py:343: error: Item "None" of "Any | None" has no attribute "setex"  [union-attr]
backend/app/services/cache_service.py:367: error: Item "None" of "Any | None" has no attribute "delete"  [union-attr]
backend/app/services/cache_service.py:370: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/services/cache_service.py:383: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/services/cache_service.py:383: error: Item "None" of "Any | None" has no attribute "exists"  [union-attr]
backend/app/services/cache_service.py:394: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/services/cache_service.py:394: error: Item "None" of "Any | None" has no attribute "expire"  [union-attr]
backend/app/services/cache_service.py:413: error: Item "None" of "Any | None" has no attribute "keys"  [union-attr]
backend/app/services/cache_service.py:416: error: Item "None" of "Any | None" has no attribute "delete"  [union-attr]
backend/app/services/cache_service.py:418: error: Returning Any from function declared to return "int"  [no-any-return]
backend/app/services/cache_service.py:431: error: Item "None" of "Any | None" has no attribute "keys"  [union-attr]
backend/app/services/cache_service.py:443: error: Item "None" of "Any | None" has no attribute "info"  [union-attr]
backend/app/services/storage/manager.py:49: error: Incompatible default for argument "metadata" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/services/storage/manager.py:49: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/services/storage/manager.py:49: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/services/storage/manager.py:68: error: Statement is unreachable  [unreachable]
backend/app/services/storage/manager.py:79: error: Function is missing a type annotation  [no-untyped-def]
backend/app/services/storage/manager.py:92: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/services/storage/manager.py:110: error: Function is missing a type annotation  [no-untyped-def]
backend/app/services/storage/manager.py:121: error: Returning Any from function declared to return "bytes"  [no-any-return]
backend/app/services/storage/manager.py:241: error: "StorageProvider" has no attribute "get_storage_info"  [attr-defined]
backend/app/services/storage/manager.py:253: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
backend/app/services/storage/manager.py:310: error: Unsupported operand types for + ("object" and "int")  [operator]
backend/app/services/storage/manager.py:316: error: Unsupported operand types for + ("object" and "int")  [operator]
backend/app/services/storage/manager.py:318: error: "object" has no attribute "append"  [attr-defined]
backend/app/core/rate_limiting.py:12: error: Cannot find implementation or library stub for module named "redis.asyncio"  [import-not-found]
backend/app/core/rate_limiting.py:12: error: Cannot find implementation or library stub for module named "redis"  [import-not-found]
backend/app/core/rate_limiting.py:144: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/rate_limiting.py:160: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/rate_limiting.py:162: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/rate_limiting.py:162: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/core/rate_limiting.py:243: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/core/rate_limiting.py:248: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/core/rate_limiting.py:252: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/rate_limiting.py:256: error: Argument "max_requests" to "rate_limit" has incompatible type "object"; expected "int"  [arg-type]
backend/app/core/rate_limiting.py:257: error: Argument "window_seconds" to "rate_limit" has incompatible type "object"; expected "int"  [arg-type]
backend/app/core/rate_limiting.py:258: error: Argument "key_prefix" to "rate_limit" has incompatible type "object"; expected "str"  [arg-type]
backend/app/core/rate_limiting.py:263: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/rate_limiting.py:267: error: Argument "max_requests" to "rate_limit" has incompatible type "object"; expected "int"  [arg-type]
backend/app/core/rate_limiting.py:268: error: Argument "window_seconds" to "rate_limit" has incompatible type "object"; expected "int"  [arg-type]
backend/app/core/rate_limiting.py:269: error: Argument "key_prefix" to "rate_limit" has incompatible type "object"; expected "str"  [arg-type]
backend/app/core/rate_limiting.py:274: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/rate_limiting.py:278: error: Argument "max_requests" to "rate_limit" has incompatible type "object"; expected "int"  [arg-type]
backend/app/core/rate_limiting.py:279: error: Argument "window_seconds" to "rate_limit" has incompatible type "object"; expected "int"  [arg-type]
backend/app/core/rate_limiting.py:280: error: Argument "key_prefix" to "rate_limit" has incompatible type "object"; expected "str"  [arg-type]
backend/app/core/rate_limiting.py:285: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/rate_limiting.py:289: error: Argument "max_requests" to "rate_limit" has incompatible type "object"; expected "int"  [arg-type]
backend/app/core/rate_limiting.py:290: error: Argument "window_seconds" to "rate_limit" has incompatible type "object"; expected "int"  [arg-type]
backend/app/core/rate_limiting.py:291: error: Argument "key_prefix" to "rate_limit" has incompatible type "object"; expected "str"  [arg-type]
backend/app/models/user.py:217: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/models/user.py:219: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/models/user.py:220: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/models/user.py:225: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/models/user.py:233: error: Function is missing a type annotation  [no-untyped-def]
backend/app/models/user.py:246: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/models/user.py:331: error: Cannot find implementation or library stub for module named "backend.app.assistant"  [import-not-found]
backend/app/models/user.py:352: error: Name "logger" is not defined  [name-defined]
backend/app/models/user.py:377: error: Name "logger" is not defined  [name-defined]
backend/app/core/security.py:13: error: Library stubs not installed for "jose"  [import-untyped]
backend/app/core/security.py:13: note: Hint: "python3 -m pip install types-python-jose"
backend/app/core/security.py:15: error: Library stubs not installed for "passlib.context"  [import-untyped]
backend/app/core/security.py:15: note: Hint: "python3 -m pip install types-passlib"
backend/app/core/security.py:15: note: (or run "mypy --install-types" to install all missing stub packages)
backend/app/core/security.py:42: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/core/security.py:55: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/core/security.py:81: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/core/security.py:111: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/core/security.py:150: error: Statement is unreachable  [unreachable]
backend/app/core/security.py:190: error: Name "User" is not defined  [name-defined]
backend/app/core/security.py:224: error: Name "User" is not defined  [name-defined]
backend/app/core/security.py:225: error: Name "User" is not defined  [name-defined]
backend/app/core/security.py:248: error: Name "User" is not defined  [name-defined]
backend/app/core/security.py:265: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/security.py:276: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/security.py:277: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/database.py:110: error: Argument 1 to "get_password_hash" has incompatible type "str | None"; expected "str"  [arg-type]
backend/app/core/caching.py:48: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/caching.py:48: note: Use "-> None" if function does not return a value
backend/app/core/caching.py:62: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/caching.py:62: note: Use "-> None" if function does not return a value
backend/app/core/caching.py:88: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/caching.py:88: note: Use "-> None" if function does not return a value
backend/app/core/caching.py:109: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/caching.py:109: note: Use "-> None" if function does not return a value
backend/app/core/caching.py:151: error: Incompatible default for argument "ttl" (default has type "None", argument has type "int")  [assignment]
backend/app/core/caching.py:151: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/caching.py:151: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/caching.py:194: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/core/caching.py:194: error: "Coroutine[Any, Any, Any | None]" has no attribute "exists"  [attr-defined]
backend/app/core/caching.py:213: error: "Coroutine[Any, Any, Any | None]" has no attribute "keys"  [attr-defined]
backend/app/core/caching.py:215: error: "Coroutine[Any, Any, Any | None]" has no attribute "delete"  [attr-defined]
backend/app/core/caching.py:235: error: "Coroutine[Any, Any, Any | None]" has no attribute "mget"  [attr-defined]
backend/app/core/caching.py:251: error: Incompatible default for argument "ttl" (default has type "None", argument has type "int")  [assignment]
backend/app/core/caching.py:251: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/caching.py:251: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/caching.py:263: error: "Coroutine[Any, Any, Any | None]" has no attribute "pipeline"  [attr-defined]
backend/app/core/caching.py:287: error: Returning Any from function declared to return "int"  [no-any-return]
backend/app/core/caching.py:292: error: Returning Any from function declared to return "int"  [no-any-return]
backend/app/core/caching.py:292: error: "Coroutine[Any, Any, Any | None]" has no attribute "incrby"  [attr-defined]
backend/app/core/caching.py:341: error: "Coroutine[Any, Any, Any | None]" has no attribute "get"  [attr-defined]
backend/app/core/caching.py:353: error: "Coroutine[Any, Any, Any | None]" has no attribute "setex"  [attr-defined]
backend/app/core/caching.py:362: error: "Coroutine[Any, Any, Any | None]" has no attribute "delete"  [attr-defined]
backend/app/core/caching.py:368: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/caching.py:400: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/caching.py:400: error: Incompatible default for argument "patterns" (default has type "None", argument has type "list[str]")  [assignment]
backend/app/core/caching.py:400: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/caching.py:400: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/caching.py:429: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/caching.py:429: note: Use "-> None" if function does not return a value
backend/app/core/caching.py:441: error: Incompatible default for argument "key_generator" (default has type "None", argument has type "Callable[..., Any]")  [assignment]
backend/app/core/caching.py:441: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/caching.py:441: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/caching.py:442: error: Incompatible default for argument "cache_manager" (default has type "None", argument has type "CacheManager")  [assignment]
backend/app/core/caching.py:442: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/caching.py:442: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/caching.py:449: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/caching.py:451: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/caching.py:453: error: Function "key_generator" could always be true in boolean context  [truthy-function]
backend/app/core/caching.py:456: error: Statement is unreachable  [unreachable]
backend/app/core/caching.py:498: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/caching.py:498: error: Incompatible default for argument "key_generator" (default has type "None", argument has type "Callable[..., Any]")  [assignment]
backend/app/core/caching.py:498: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/caching.py:498: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/services/tool_service.py:8: error: Library stubs not installed for "pytz"  [import-untyped]
backend/app/services/tool_service.py:8: note: Hint: "python3 -m pip install types-pytz"
backend/app/services/tool_service.py:39: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/tool_service.py:97: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/tool_service.py:113: error: Returning Any from function declared to return "dict[str, Any] | None"  [no-any-return]
backend/app/services/tool_service.py:156: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/tool_service.py:181: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "add"  [union-attr]
backend/app/services/tool_service.py:182: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/tool_service.py:188: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "rollback"  [union-attr]
backend/app/services/tool_service.py:218: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/tool_service.py:254: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/tool_service.py:257: error: Returning Any from function declared to return "dict[str, Any] | None"  [no-any-return]
backend/app/services/tool_service.py:260: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "rollback"  [union-attr]
backend/app/services/tool_service.py:284: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/tool_service.py:296: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "delete"  [union-attr]
backend/app/services/tool_service.py:297: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/tool_service.py:303: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "rollback"  [union-attr]
backend/app/services/tool_service.py:324: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/tool_service.py:363: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/tool_service.py:409: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/tool_service.py:442: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/token_service.py:48: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/token_service.py:108: error: Returning Any from function declared to return "User | None"  [no-any-return]
backend/app/services/rag_service.py:36: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/rag_service.py:36: note: Use "-> None" if function does not return a value
backend/app/services/rag_service.py:571: error: Unexpected keyword argument "namespace" for "get" of "CacheService"  [call-arg]
backend/app/services/cache_service.py:255: note: "get" of "CacheService" defined here
backend/app/services/rag_service.py:572: error: Argument "cache_key" to "get" of "CacheService" has incompatible type "str"; expected "CacheKey"  [arg-type]
backend/app/services/rag_service.py:584: error: Unexpected keyword argument "namespace" for "set" of "CacheService"  [call-arg]
backend/app/services/cache_service.py:309: note: "set" of "CacheService" defined here
backend/app/services/rag_service.py:585: error: Argument "cache_key" to "set" of "CacheService" has incompatible type "str"; expected "CacheKey"  [arg-type]
backend/app/services/rag_service.py:596: error: Missing positional argument "message" in call to "ValidationError"  [call-arg]
backend/app/services/rag_service.py:599: error: Missing positional argument "message" in call to "ValidationError"  [call-arg]
backend/app/services/rag_service.py:751: error: Need type annotation for "deduplicated" (hint: "deduplicated: list[<type>] = ...")  [var-annotated]
backend/app/services/knowledge_service.py:50: error: Cannot find implementation or library stub for module named "pypdf"  [import-not-found]
backend/app/services/knowledge_service.py:79: error: Returning Any from function declared to return "Tag"  [no-any-return]
backend/app/services/knowledge_service.py:83: error: Returning Any from function declared to return "list[Tag]"  [no-any-return]
backend/app/services/knowledge_service.py:95: error: Returning Any from function declared to return "list[Tag]"  [no-any-return]
backend/app/services/knowledge_service.py:163: error: Cannot find implementation or library stub for module named "docx"  [import-not-found]
backend/app/services/knowledge_service.py:195: error: Cannot find implementation or library stub for module named "langdetect"  [import-not-found]
backend/app/services/knowledge_service.py:197: error: Returning Any from function declared to return "str | None"  [no-any-return]
backend/app/services/knowledge_service.py:206: error: Function is missing a type annotation  [no-untyped-def]
backend/app/services/knowledge_service.py:282: error: Argument 2 to "_determine_document_type" of "KnowledgeService" has incompatible type "str | None"; expected "str"  [arg-type]
backend/app/services/knowledge_service.py:299: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "add"  [union-attr]
backend/app/services/knowledge_service.py:300: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/knowledge_service.py:301: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "refresh"  [union-attr]
backend/app/services/knowledge_service.py:315: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "rollback"  [union-attr]
backend/app/services/knowledge_service.py:381: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/knowledge_service.py:384: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/knowledge_service.py:396: error: Argument 1 to "process_document" of "DocumentService" has incompatible type "bytes"; expected "str"  [arg-type]
backend/app/services/knowledge_service.py:467: error: "WeaviateService" has no attribute "add_document_chunk"  [attr-defined]
backend/app/services/knowledge_service.py:476: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "add_all"  [union-attr]
backend/app/services/knowledge_service.py:501: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/knowledge_service.py:508: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/knowledge_service.py:508: note: Use "-> None" if function does not return a value
backend/app/services/knowledge_service.py:563: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/knowledge_service.py:587: error: Returning Any from function declared to return "Document | None"  [no-any-return]
backend/app/services/knowledge_service.py:588: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/knowledge_service.py:640: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/knowledge_service.py:641: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "refresh"  [union-attr]
backend/app/services/knowledge_service.py:653: error: "WeaviateService" has no attribute "delete_document_chunks"  [attr-defined]
backend/app/services/knowledge_service.py:659: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "delete"  [union-attr]
backend/app/services/knowledge_service.py:660: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/knowledge_service.py:667: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "rollback"  [union-attr]
backend/app/services/knowledge_service.py:700: error: "WeaviateService" has no attribute "search_documents"  [attr-defined]
backend/app/services/knowledge_service.py:715: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "add"  [union-attr]
backend/app/services/knowledge_service.py:716: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/knowledge_service.py:718: error: Returning Any from function declared to return "list[dict[str, Any]]"  [no-any-return]
backend/app/services/knowledge_service.py:739: error: "WeaviateService" has no attribute "search_conversations"  [attr-defined]
backend/app/services/knowledge_service.py:754: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "add"  [union-attr]
backend/app/services/knowledge_service.py:755: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/knowledge_service.py:757: error: Returning Any from function declared to return "list[dict[str, Any]]"  [no-any-return]
backend/app/services/knowledge_service.py:770: error: Returning Any from function declared to return "list[SearchQuery]"  [no-any-return]
backend/app/services/knowledge_service.py:771: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/knowledge_service.py:804: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "add"  [union-attr]
backend/app/services/knowledge_service.py:805: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/knowledge_service.py:806: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "refresh"  [union-attr]
backend/app/services/knowledge_service.py:817: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/knowledge_service.py:824: error: Returning Any from function declared to return "list[DocumentProcessingJob]"  [no-any-return]
backend/app/services/knowledge_service.py:902: error: Need type annotation for "chunks" (hint: "chunks: list[<type>] = ...")  [var-annotated]
backend/app/services/knowledge_service.py:933: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "add"  [union-attr]
backend/app/services/knowledge_service.py:940: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/knowledge_service.py:947: error: Returning Any from function declared to return "list[float] | None"  [no-any-return]
backend/app/services/knowledge_service.py:947: error: "KnowledgeService" has no attribute "ai_service"; maybe "tag_service" or "weaviate_service"?  [attr-defined]
backend/app/services/domain_service.py:67: error: Argument 1 to "get_domain_group_by_id" of "DomainService" has incompatible type "UUID"; expected "str"  [arg-type]
backend/app/services/domain_service.py:140: error: Returning Any from function declared to return "DomainGroup | None"  [no-any-return]
backend/app/services/domain_service.py:320: error: Argument 2 to "_add_domain_member" of "DomainService" has incompatible type "UUID"; expected "str"  [arg-type]
backend/app/services/domain_service.py:322: error: Argument 4 to "_add_domain_member" of "DomainService" has incompatible type "UUID | Any"; expected "str | None"  [arg-type]
backend/app/services/domain_service.py:492: error: Returning Any from function declared to return "DomainResource"  [no-any-return]
backend/app/services/domain_service.py:610: error: Item "None" of "DomainGroup | None" has no attribute "members"  [union-attr]
backend/app/services/domain_service.py:641: error: Incompatible default for argument "current_user" (default has type "None", argument has type "User")  [assignment]
backend/app/services/domain_service.py:641: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/services/domain_service.py:641: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/services/conversation_service.py:48: error: "UUID" has no attribute "strip"  [attr-defined]
backend/app/services/conversation_service.py:61: error: "UUID" has no attribute "strip"  [attr-defined]
backend/app/services/conversation_service.py:71: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "add"  [union-attr]
backend/app/services/conversation_service.py:72: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/conversation_service.py:73: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "refresh"  [union-attr]
backend/app/services/conversation_service.py:78: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "rollback"  [union-attr]
backend/app/services/conversation_service.py:81: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "rollback"  [union-attr]
backend/app/services/conversation_service.py:87: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "rollback"  [union-attr]
backend/app/services/conversation_service.py:122: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/conversation_service.py:135: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
backend/app/services/conversation_service.py:161: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/conversation_service.py:178: error: Returning Any from function declared to return "list[dict[str, Any]]"  [no-any-return]
backend/app/services/conversation_service.py:179: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/conversation_service.py:240: error: "UUID" has no attribute "strip"  [attr-defined]
backend/app/services/conversation_service.py:252: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/conversation_service.py:253: error: "UUID" has no attribute "strip"  [attr-defined]
backend/app/services/conversation_service.py:258: error: Argument 2 to "NotFoundError" has incompatible type "UUID"; expected "str"  [arg-type]
backend/app/services/conversation_service.py:267: error: "UUID" has no attribute "strip"  [attr-defined]
backend/app/services/conversation_service.py:275: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "add"  [union-attr]
backend/app/services/conversation_service.py:276: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/conversation_service.py:277: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "refresh"  [union-attr]
backend/app/services/conversation_service.py:281: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/conversation_service.py:286: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "rollback"  [union-attr]
backend/app/services/conversation_service.py:289: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "rollback"  [union-attr]
backend/app/services/conversation_service.py:295: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "rollback"  [union-attr]
backend/app/services/conversation_service.py:330: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/conversation_service.py:340: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/conversation_service.py:378: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/conversation_service.py:411: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/conversation_service.py:424: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "delete"  [union-attr]
backend/app/services/conversation_service.py:425: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/conversation_service.py:441: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/conversation_service.py:456: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/conversation_intelligence_service.py:39: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/conversation_intelligence_service.py:39: note: Use "-> None" if function does not return a value
backend/app/services/conversation_intelligence_service.py:117: error: Incompatible types in "await" (actual type "dict[str, Any] | None", expected type "Awaitable[Any]")  [misc]
backend/app/services/conversation_intelligence_service.py:119: error: Missing positional argument "message" in call to "ValidationError"  [call-arg]
backend/app/services/conversation_intelligence_service.py:161: error: Incompatible types in "await" (actual type "dict[str, Any] | None", expected type "Awaitable[Any]")  [misc]
backend/app/services/conversation_intelligence_service.py:163: error: Missing positional argument "message" in call to "ValidationError"  [call-arg]
backend/app/services/conversation_intelligence_service.py:186: error: Incompatible types in "await" (actual type "dict[str, Any] | None", expected type "Awaitable[Any]")  [misc]
backend/app/services/conversation_intelligence_service.py:188: error: Missing positional argument "message" in call to "ValidationError"  [call-arg]
backend/app/services/conversation_intelligence_service.py:256: error: Incompatible types in assignment (expression has type "list[TopicInfo]", target has type "ConversationSummary")  [assignment]
backend/app/services/conversation_intelligence_service.py:595: error: Returning Any from function declared to return "float"  [no-any-return]
backend/app/services/conversation_intelligence_service.py:701: error: Missing positional argument "message" in call to "ValidationError"  [call-arg]
backend/app/services/conversation_intelligence_service.py:732: error: Need type annotation for "activity" (hint: "activity: dict[<type>, <type>] = ...")  [var-annotated]
backend/app/services/conversation_intelligence_service.py:745: error: Argument 1 to "fromkeys" of "dict" has incompatible type "set[Any | None]"; expected "Iterable[str]"  [arg-type]
backend/app/services/conversation_intelligence_service.py:754: error: Argument 1 to "fromkeys" of "dict" has incompatible type "set[Any | None]"; expected "Iterable[str]"  [arg-type]
backend/app/services/conversation_intelligence_service.py:831: error: Returning Any from function declared to return "datetime | None"  [no-any-return]
backend/app/services/conversation_intelligence_service.py:853: error: Missing positional argument "message" in call to "ValidationError"  [call-arg]
backend/app/services/conversation_intelligence_service.py:863: error: Missing positional argument "message" in call to "ValidationError"  [call-arg]
backend/app/services/conversation_intelligence_service.py:890: error: Unexpected keyword argument "namespace" for "get" of "CacheService"  [call-arg]
backend/app/services/cache_service.py:255: note: "get" of "CacheService" defined here
backend/app/services/conversation_intelligence_service.py:891: error: Argument "cache_key" to "get" of "CacheService" has incompatible type "str"; expected "CacheKey"  [arg-type]
backend/app/services/conversation_intelligence_service.py:907: error: Unexpected keyword argument "namespace" for "set" of "CacheService"  [call-arg]
backend/app/services/cache_service.py:309: note: "set" of "CacheService" defined here
backend/app/services/conversation_intelligence_service.py:908: error: Argument "cache_key" to "set" of "CacheService" has incompatible type "str"; expected "CacheKey"  [arg-type]
backend/app/services/audit_service.py:30: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/audit_service.py:30: note: Use "-> None" if function does not return a value
backend/app/services/audit_service.py:31: error: Need type annotation for "_queue"  [var-annotated]
backend/app/services/audit_service.py:37: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/audit_service.py:37: note: Use "-> None" if function does not return a value
backend/app/services/audit_service.py:43: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/audit_service.py:43: note: Use "-> None" if function does not return a value
backend/app/services/audit_service.py:52: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/audit_service.py:52: note: Use "-> None" if function does not return a value
backend/app/services/audit_service.py:85: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/audit_service.py:104: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/audit_service.py:139: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/audit_service.py:240: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/audit_service.py:269: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/audit_service.py:286: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/audit_service.py:308: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/audit_service.py:332: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/audit_service.py:351: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/audit_service.py:366: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/audit_service.py:437: error: Returning Any from function declared to return "list[AuditLog]"  [no-any-return]
backend/app/services/audit_service.py:456: error: Returning Any from function declared to return "list[AuditLog]"  [no-any-return]
backend/app/services/audit_service.py:473: error: Returning Any from function declared to return "list[AuditLog]"  [no-any-return]
backend/app/services/audit_service.py:476: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/audit_service.py:476: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/services/audit_service.py:522: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/audit_service.py:522: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/services/audit_service.py:529: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/audit_service.py:529: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/services/assistant_service.py:23: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/assistant_service.py:53: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "add"  [union-attr]
backend/app/services/assistant_service.py:54: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/assistant_service.py:55: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "refresh"  [union-attr]
backend/app/services/assistant_service.py:57: error: Unused "type: ignore" comment  [unused-ignore]
backend/app/services/assistant_service.py:72: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/assistant_service.py:80: error: Returning Any from function declared to return "Assistant | None"  [no-any-return]
backend/app/services/assistant_service.py:99: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/assistant_service.py:117: error: Returning Any from function declared to return "list[Assistant]"  [no-any-return]
backend/app/services/assistant_service.py:136: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/assistant_service.py:151: error: Returning Any from function declared to return "list[Assistant]"  [no-any-return]
backend/app/services/assistant_service.py:160: error: Returning Any from function declared to return "Assistant | None"  [no-any-return]
backend/app/services/assistant_service.py:161: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/assistant_service.py:184: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/assistant_service.py:190: error: Returning Any from function declared to return "str | None"  [no-any-return]
backend/app/services/assistant_service.py:222: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/assistant_service.py:231: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/assistant_service.py:267: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/assistant_service.py:268: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "refresh"  [union-attr]
backend/app/services/assistant_service.py:288: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "delete"  [union-attr]
backend/app/services/assistant_service.py:289: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/assistant_service.py:310: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/assistant_service.py:311: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "refresh"  [union-attr]
backend/app/services/assistant_service.py:332: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/assistant_service.py:333: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "refresh"  [union-attr]
backend/app/services/assistant_service.py:363: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/assistant_service.py:364: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "refresh"  [union-attr]
backend/app/services/assistant_service.py:392: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/assistant_service.py:393: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "refresh"  [union-attr]
backend/app/services/storage/dependency_injection.py:35: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/dependency_injection.py:35: note: Use "-> None" if function does not return a value
backend/app/services/storage/dependency_injection.py:43: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/dependency_injection.py:66: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/dependency_injection.py:75: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/dependency_injection.py:129: error: Returning Any from function declared to return "StorageProvider"  [no-any-return]
backend/app/services/storage/dependency_injection.py:138: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/dependency_injection.py:138: note: Use "-> None" if function does not return a value
backend/app/services/storage/dependency_injection.py:149: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/dependency_injection.py:149: note: Use "-> None" if function does not return a value
backend/app/services/storage/dependency_injection.py:153: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/storage/dependency_injection.py:181: error: Returning Any from function declared to return "StorageConnectionPool"  [no-any-return]
backend/app/services/storage/dependency_injection.py:185: error: Returning Any from function declared to return "StorageBatchManager"  [no-any-return]
backend/app/services/storage/dependency_injection.py:189: error: Returning Any from function declared to return "StorageFactory"  [no-any-return]
backend/app/services/audit/__init__.py:12: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/schemas/user.py:77: error: Function is missing a type annotation  [no-untyped-def]
backend/app/schemas/user.py:128: error: Function is missing a type annotation  [no-untyped-def]
backend/app/schemas/user.py:143: error: Function is missing a type annotation  [no-untyped-def]
backend/app/schemas/user.py:180: error: Function is missing a type annotation  [no-untyped-def]
backend/app/schemas/user.py:290: error: Function is missing a type annotation  [no-untyped-def]
backend/app/monitoring/performance_monitor.py:59: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/monitoring/performance_monitor.py:59: note: Use "-> None" if function does not return a value
backend/app/monitoring/performance_monitor.py:136: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/monitoring/performance_monitor.py:136: note: Use "-> None" if function does not return a value
backend/app/monitoring/performance_monitor.py:140: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/monitoring/performance_monitor.py:140: error: Name "Alert" is not defined  [name-defined]
backend/app/monitoring/performance_monitor.py:163: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/monitoring/performance_monitor.py:163: note: Use "-> None" if function does not return a value
backend/app/monitoring/performance_monitor.py:178: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/monitoring/performance_monitor.py:178: note: Use "-> None" if function does not return a value
backend/app/monitoring/performance_monitor.py:196: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/monitoring/performance_monitor.py:196: note: Use "-> None" if function does not return a value
backend/app/monitoring/performance_monitor.py:209: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/monitoring/performance_monitor.py:209: note: Use "-> None" if function does not return a value
backend/app/monitoring/performance_monitor.py:355: error: Argument 1 to "sum" has incompatible type "list[object]"; expected "Iterable[bool]"  [arg-type]
backend/app/monitoring/performance_monitor.py:366: error: Argument 1 to "SystemMetrics" has incompatible type "**dict[str, float]"; expected "int"  [arg-type]
backend/app/monitoring/performance_monitor.py:367: error: Argument "database_metrics" to "PerformanceReport" has incompatible type "DatabaseMetrics | None"; expected "DatabaseMetrics"  [arg-type]
backend/app/monitoring/performance_monitor.py:369: error: Argument "alerts" to "PerformanceReport" has incompatible type "list[backend.app.monitoring.core.alerts.Alert]"; expected "list[backend.app.monitoring.types.performance_types.Alert]"  [arg-type]
backend/app/monitoring/performance_monitor.py:376: error: Incompatible return value type (got "None", expected "PerformanceReport")  [return-value]
backend/app/monitoring/performance_monitor.py:482: error: Returning Any from function declared to return "float"  [no-any-return]
backend/app/monitoring/performance_monitor.py:495: error: Returning Any from function declared to return "float"  [no-any-return]
backend/app/monitoring/performance_monitor.py:514: error: Function is missing a type annotation  [no-untyped-def]
backend/app/monitoring/performance_monitor.py:517: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/session_manager.py:14: error: Cannot find implementation or library stub for module named "redis"  [import-not-found]
backend/app/core/session_manager.py:159: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/session_manager.py:159: note: Use "-> None" if function does not return a value
backend/app/core/session_manager.py:427: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/core/session_manager.py:480: error: Returning Any from function declared to return "set[str]"  [no-any-return]
backend/app/core/security_middleware.py:84: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/security_middleware.py:106: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/core/security_middleware.py:109: error: Need type annotation for "request_counts" (hint: "request_counts: dict[<type>, <type>] = ...")  [var-annotated]
backend/app/core/security_middleware.py:166: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/core/security_middleware.py:167: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/core/security_middleware.py:207: error: Returning Any from function declared to return "int"  [no-any-return]
backend/app/core/security_middleware.py:209: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/security_middleware.py:287: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/security_enhanced.py:19: error: Module "backend.app.core.redis_client" has no attribute "get_redis_client"; maybe "redis_client" or "get_redis_info"?  [attr-defined]
backend/app/core/security_enhanced.py:62: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/security_enhanced.py:62: note: Use "-> None" if function does not return a value
backend/app/core/security_enhanced.py:102: error: "SessionManager" has no attribute "_log_security_event"  [attr-defined]
backend/app/core/security_enhanced.py:135: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/core/security_enhanced.py:142: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/security_enhanced.py:142: note: Use "-> None" if function does not return a value
backend/app/core/security_enhanced.py:163: error: "RateLimiter" has no attribute "_log_security_event"  [attr-defined]
backend/app/core/security_enhanced.py:201: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/core/security_enhanced.py:208: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/security_enhanced.py:208: note: Use "-> None" if function does not return a value
backend/app/core/security_enhanced.py:215: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/core/security_enhanced.py:219: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/core/security_enhanced.py:228: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/core/security_enhanced.py:244: error: "IPWhitelistManager" has no attribute "_log_security_event"  [attr-defined]
backend/app/core/security_enhanced.py:262: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/security_enhanced.py:262: note: Use "-> None" if function does not return a value
backend/app/core/security_enhanced.py:397: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/core/security_enhanced.py:419: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/security_enhanced.py:419: note: Use "-> None" if function does not return a value
backend/app/core/security_enhanced.py:463: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/security_enhanced.py:473: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/security_enhanced.py:490: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/security_enhanced.py:506: error: Returning Any from function declared to return "str"  [no-any-return]
backend/app/core/security_enhanced.py:509: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/rbac_cache.py:15: error: Module "backend.app.core.redis_client" has no attribute "get_redis_client"; maybe "redis_client" or "get_redis_info"?  [attr-defined]
backend/app/core/rbac_cache.py:22: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/rbac_cache.py:22: note: Use "-> None" if function does not return a value
backend/app/core/rbac_cache.py:46: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/core/rbac_cache.py:71: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/core/rbac_cache.py:83: error: Returning Any from function declared to return "list[dict[str, Any]] | None"  [no-any-return]
backend/app/core/rbac_cache.py:90: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/core/rbac_cache.py:109: error: Returning Any from function declared to return "bool | None"  [no-any-return]
backend/app/core/rbac_cache.py:123: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/core/rbac_cache.py:132: error: Incompatible default for argument "permission" (default has type "None", argument has type "str")  [assignment]
backend/app/core/rbac_cache.py:132: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/rbac_cache.py:132: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/rbac_cache.py:193: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/rbac_cache.py:196: error: Function is missing a type annotation  [no-untyped-def]
backend/app/core/rbac_cache.py:198: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/rbac_cache.py:198: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/core/rbac_cache.py:384: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/rbac_cache.py:384: note: Use "-> None" if function does not return a value
backend/app/core/rbac_cache.py:395: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/rbac_cache.py:395: note: Use "-> None" if function does not return a value
backend/app/core/rbac_cache.py:399: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/dependencies.py:30: error: Returning Any from function declared to return "User"  [no-any-return]
backend/app/core/dependencies.py:127: error: Function is missing a return type annotation  [no-untyped-def]
backend/tests/unit/services/test_token_service.py:20: error: Function is missing a return type annotation  [no-untyped-def]
backend/tests/unit/services/test_token_service.py:25: error: Function is missing a return type annotation  [no-untyped-def]
backend/tests/unit/services/test_token_service.py:30: error: Function is missing a return type annotation  [no-untyped-def]
backend/tests/unit/services/test_token_service.py:40: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/services/test_token_service.py:48: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/services/test_token_service.py:57: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/services/test_token_service.py:73: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/services/test_token_service.py:83: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/services/test_token_service.py:101: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/services/test_token_service.py:109: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/services/test_token_service.py:119: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/services/test_token_service.py:129: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/services/test_token_service.py:144: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/services/test_token_service.py:160: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/services/test_token_service.py:195: error: Function is missing a type annotation  [no-untyped-def]
backend/app/services/user_service.py:6: error: Library stubs not installed for "passlib.context"  [import-untyped]
backend/app/services/user_service.py:53: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/services/user_service.py:120: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "add"  [union-attr]
backend/app/services/user_service.py:121: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/user_service.py:122: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "refresh"  [union-attr]
backend/app/services/user_service.py:126: error: Argument 2 to "assign_user_to_groups" of "UserService" has incompatible type "list[UUID]"; expected "list[str]"  [arg-type]
backend/app/services/user_service.py:132: error: Returning Any from function declared to return "User | None"  [no-any-return]
backend/app/services/user_service.py:133: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/user_service.py:143: error: Returning Any from function declared to return "User | None"  [no-any-return]
backend/app/services/user_service.py:144: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/user_service.py:154: error: Returning Any from function declared to return "User | None"  [no-any-return]
backend/app/services/user_service.py:155: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/user_service.py:169: error: Returning Any from function declared to return "User | None"  [no-any-return]
backend/app/services/user_service.py:170: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/user_service.py:204: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/user_service.py:205: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "refresh"  [union-attr]
backend/app/services/user_service.py:223: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "delete"  [union-attr]
backend/app/services/user_service.py:224: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/user_service.py:233: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/user_service.py:314: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/user_service.py:336: error: Argument 2 to "assign_user_to_groups" of "UserService" has incompatible type "list[UUID]"; expected "list[str]"  [arg-type]
backend/app/services/user_service.py:338: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/user_service.py:366: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/user_service.py:374: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/user_service.py:393: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/user_service.py:406: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/user_service.py:468: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "add"  [union-attr]
backend/app/services/user_service.py:469: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/user_service.py:470: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "refresh"  [union-attr]
backend/app/services/user_service.py:476: error: Returning Any from function declared to return "UserGroup | None"  [no-any-return]
backend/app/services/user_service.py:477: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/user_service.py:508: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/user_service.py:509: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "refresh"  [union-attr]
backend/app/services/user_service.py:526: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "delete"  [union-attr]
backend/app/services/user_service.py:527: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/user_service.py:533: error: Incompatible default for argument "current_user" (default has type "None", argument has type "User")  [assignment]
backend/app/services/user_service.py:533: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/services/user_service.py:533: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/services/user_service.py:536: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/user_service.py:545: error: Returning Any from function declared to return "list[UserGroup]"  [no-any-return]
backend/app/services/user_service.py:553: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/user_service.py:557: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/user_service.py:570: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/user_service.py:572: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/user_service.py:586: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "commit"  [union-attr]
backend/app/services/user_service.py:593: error: Incompatible default for argument "current_user" (default has type "None", argument has type "User")  [assignment]
backend/app/services/user_service.py:593: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/services/user_service.py:593: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/services/user_service.py:596: error: Item "Generator[Any, None, None]" of "Any | Generator[Any, None, None]" has no attribute "query"  [union-attr]
backend/app/services/tool_executor_v2.py:179: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/tool_executor_v2.py:179: note: Use "-> None" if function does not return a value
backend/app/services/tool_executor_v2.py:232: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/tool_executor_v2.py:232: note: Use "-> None" if function does not return a value
backend/app/services/tool_executor_v2.py:355: error: "None" has no attribute "execute_tool"  [attr-defined]
backend/app/services/tool_executor_v2.py:410: error: Need type annotation for "tools" (hint: "tools: list[<type>] = ...")  [var-annotated]
backend/app/services/tool_executor_v2.py:414: error: "None" has no attribute "get_available_tools"  [attr-defined]
backend/app/services/tool_executor_v2.py:441: error: Argument 1 to "get" of "dict" has incompatible type "Any | None"; expected "str"  [arg-type]
backend/app/services/tool_executor.py:30: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/tool_executor.py:30: note: Use "-> None" if function does not return a value
backend/app/services/tool_executor.py:36: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/tool_executor.py:36: note: Use "-> None" if function does not return a value
backend/app/services/tool_executor.py:39: error: "None" has no attribute "get_available_tools"  [attr-defined]
backend/app/services/tool_executor.py:142: error: Too many arguments for "execute_tool" of "MCPServerManager"  [call-arg]
backend/app/services/enhanced_background_job_service.py:74: error: Need type annotation for "job_queue"  [var-annotated]
backend/app/services/enhanced_background_job_service.py:100: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/enhanced_background_job_service.py:100: note: Use "-> None" if function does not return a value
backend/app/services/enhanced_background_job_service.py:103: error: Function is missing a type annotation  [no-untyped-def]
backend/app/services/enhanced_background_job_service.py:110: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/enhanced_background_job_service.py:115: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/enhanced_background_job_service.py:115: note: Use "-> None" if function does not return a value
backend/app/services/enhanced_background_job_service.py:123: error: Incompatible types in assignment (expression has type "Thread", variable has type "None")  [assignment]
backend/app/services/enhanced_background_job_service.py:124: error: "None" has no attribute "start"  [attr-defined]
backend/app/services/enhanced_background_job_service.py:127: error: Incompatible types in assignment (expression has type "Thread", variable has type "None")  [assignment]
backend/app/services/enhanced_background_job_service.py:128: error: "None" has no attribute "start"  [attr-defined]
backend/app/services/enhanced_background_job_service.py:132: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/enhanced_background_job_service.py:132: note: Use "-> None" if function does not return a value
backend/app/services/enhanced_background_job_service.py:146: error: Statement is unreachable  [unreachable]
backend/app/services/enhanced_background_job_service.py:148: error: Statement is unreachable  [unreachable]
backend/app/services/enhanced_background_job_service.py:151: error: Unexpected keyword argument "timeout" for "shutdown" of "Executor"  [call-arg]
/home/ubuntu/.local/lib/python3.13/site-packages/mypy/typeshed/stdlib/concurrent/futures/_base.pyi:71: note: "shutdown" of "Executor" defined here
backend/app/services/enhanced_background_job_service.py:155: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/enhanced_background_job_service.py:155: note: Use "-> None" if function does not return a value
backend/app/services/enhanced_background_job_service.py:179: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/enhanced_background_job_service.py:179: note: Use "-> None" if function does not return a value
backend/app/services/enhanced_background_job_service.py:198: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/enhanced_background_job_service.py:244: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
backend/app/services/enhanced_background_job_service.py:288: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/enhanced_background_job_service.py:299: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/enhanced_background_job_service.py:299: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/services/enhanced_background_job_service.py:319: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/enhanced_background_job_service.py:319: note: Use "-> None" if function does not return a value
backend/app/services/enhanced_background_job_service.py:342: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/enhanced_background_job_service.py:342: note: Use "-> None" if function does not return a value
backend/app/services/enhanced_background_job_service.py:356: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/enhanced_background_job_service.py:356: note: Use "-> None" if function does not return a value
backend/app/services/enhanced_background_job_service.py:367: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/services/enhanced_background_job_service.py:444: error: Need type annotation for "all_jobs" (hint: "all_jobs: list[<type>] = ...")  [var-annotated]
backend/app/services/enhanced_background_job_service.py:459: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/services/enhanced_background_job_service.py:497: error: Item "None" of "dict[str, Any] | None" has no attribute "get"  [union-attr]
backend/app/services/enhanced_background_job_service.py:498: error: Item "None" of "dict[str, Any] | None" has no attribute "get"  [union-attr]
backend/app/services/enhanced_background_job_service.py:502: error: Item "None" of "dict[str, Any] | None" has no attribute "get"  [union-attr]
backend/app/services/enhanced_background_job_service.py:503: error: Item "None" of "dict[str, Any] | None" has no attribute "get"  [union-attr]
backend/app/services/enhanced_background_job_service.py:504: error: Item "None" of "dict[str, Any] | None" has no attribute "get"  [union-attr]
backend/app/services/enhanced_background_job_service.py:507: error: Argument "email" to "send_password_reset_email" of "EmailService" has incompatible type "Any | None"; expected "str"  [arg-type]
backend/app/services/enhanced_background_job_service.py:507: error: Argument "token" to "send_password_reset_email" of "EmailService" has incompatible type "Any | None"; expected "str"  [arg-type]
backend/app/services/enhanced_background_job_service.py:507: error: Argument "reset_url" to "send_password_reset_email" of "EmailService" has incompatible type "Any | None"; expected "str"  [arg-type]
backend/app/services/enhanced_background_job_service.py:514: error: Item "None" of "dict[str, Any] | None" has no attribute "get"  [union-attr]
backend/app/services/enhanced_background_job_service.py:517: error: Argument "email" to "send_password_changed_notification" of "EmailService" has incompatible type "Any | None"; expected "str"  [arg-type]
backend/app/services/enhanced_background_job_service.py:534: error: Item "None" of "dict[str, Any] | None" has no attribute "get"  [union-attr]
backend/app/services/background_job_service.py:29: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/background_job_service.py:29: note: Use "-> None" if function does not return a value
backend/app/services/background_job_service.py:30: error: Need type annotation for "job_queue"  [var-annotated]
backend/app/services/background_job_service.py:37: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/background_job_service.py:37: note: Use "-> None" if function does not return a value
backend/app/services/background_job_service.py:47: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/background_job_service.py:47: note: Use "-> None" if function does not return a value
backend/app/services/background_job_service.py:55: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/background_job_service.py:55: note: Use "-> None" if function does not return a value
backend/app/services/background_job_service.py:85: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/background_job_service.py:142: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/background_job_service.py:179: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/background_job_service.py:209: error: "WeaviateService" has no attribute "delete_document_chunks"  [attr-defined]
backend/app/services/background_job_service.py:236: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/background_job_service.py:272: error: "Coroutine[Any, Any, Document]" has no attribute "id"  [attr-defined]
backend/app/services/background_job_service.py:272: note: Maybe you forgot to use "await"?
backend/app/services/background_job_service.py:349: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/background_job_service.py:349: note: Use "-> None" if function does not return a value
backend/app/services/background_job_service.py:354: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/background_job_service.py:354: note: Use "-> None" if function does not return a value
backend/app/services/ai/utils/rag_service.py:17: error: Too many arguments for "EmbeddingService"  [call-arg]
backend/app/services/ai/utils/rag_service.py:35: error: "KnowledgeService" has no attribute "search_similar_chunks"  [attr-defined]
backend/app/services/ai/utils/rag_service.py:42: error: Returning Any from function declared to return "list[dict[str, Any]]"  [no-any-return]
backend/app/services/ai/utils/rag_service.py:126: error: Returning Any from function declared to return "float"  [no-any-return]
backend/app/services/ai/utils/rag_service.py:138: error: "KnowledgeService" has no attribute "add_document"  [attr-defined]
backend/app/services/ai/utils/rag_service.py:154: error: "KnowledgeService" has no attribute "get_user_stats"  [attr-defined]
backend/app/services/ai/utils/rag_service.py:155: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
backend/app/api/v1/storage.py:47: error: Untyped decorator makes function "get_storage_health" untyped  [misc]
backend/app/api/v1/storage.py:75: error: Untyped decorator makes function "get_storage_info" untyped  [misc]
backend/app/api/v1/storage.py:99: error: Untyped decorator makes function "get_available_providers" untyped  [misc]
backend/app/api/v1/storage.py:124: error: Untyped decorator makes function "test_storage_config" untyped  [misc]
backend/app/api/v1/storage.py:153: error: Untyped decorator makes function "get_storage_config" untyped  [misc]
backend/app/api/v1/storage.py:184: error: Untyped decorator makes function "migrate_storage" untyped  [misc]
backend/app/api/v1/storage.py:223: error: Untyped decorator makes function "cleanup_orphaned_files" untyped  [misc]
backend/app/api/v1/storage.py:250: error: Untyped decorator makes function "batch_upload_documents" untyped  [misc]
backend/app/api/v1/storage.py:284: error: Untyped decorator makes function "get_performance_metrics" untyped  [misc]
backend/app/api/v1/storage.py:307: error: Untyped decorator makes function "get_document_url" untyped  [misc]
backend/app/services/hybrid_mode_manager.py:224: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/hybrid_mode_manager.py:352: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/hybrid_mode_manager.py:352: note: Use "-> None" if function does not return a value
backend/app/services/hybrid_mode_manager.py:468: error: Item "None" of "str | None" has no attribute "lower"  [union-attr]
backend/app/services/hybrid_mode_manager.py:489: error: Item "None" of "str | None" has no attribute "lower"  [union-attr]
backend/app/services/hybrid_mode_manager.py:555: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/hybrid_mode_manager.py:566: error: Need type annotation for "mode_counts" (hint: "mode_counts: dict[<type>, <type>] = ...")  [var-annotated]
backend/app/services/auth_service.py:271: error: Returning Any from function declared to return "bool"  [no-any-return]
backend/app/services/advanced_user_provisioning.py:26: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/advanced_user_provisioning.py:26: note: Use "-> None" if function does not return a value
backend/app/services/advanced_user_provisioning.py:93: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/advanced_user_provisioning.py:93: note: Use "-> None" if function does not return a value
backend/app/services/advanced_user_provisioning.py:162: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/advanced_user_provisioning.py:162: note: Use "-> None" if function does not return a value
backend/app/services/advanced_user_provisioning.py:229: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/advanced_user_provisioning.py:229: note: Use "-> None" if function does not return a value
backend/app/services/advanced_user_provisioning.py:443: error: Unsupported operand types for + ("object" and "int")  [operator]
backend/app/services/advanced_user_provisioning.py:445: error: Unsupported operand types for + ("object" and "int")  [operator]
backend/app/services/advanced_user_provisioning.py:447: error: Unsupported operand types for + ("object" and "int")  [operator]
backend/app/services/advanced_user_provisioning.py:449: error: Unsupported operand types for + ("object" and "int")  [operator]
backend/app/services/advanced_user_provisioning.py:451: error: "object" has no attribute "append"  [attr-defined]
backend/app/services/advanced_user_provisioning.py:460: error: Unsupported operand types for + ("object" and "int")  [operator]
backend/app/services/advanced_user_provisioning.py:461: error: "object" has no attribute "append"  [attr-defined]
backend/app/services/ai/middleware/rag_middleware.py:12: error: Function is missing a type annotation  [no-untyped-def]
backend/app/services/ai/middleware/rag_middleware.py:14: error: Missing positional argument "db" in call to "RAGService"  [call-arg]
backend/app/services/ai/middleware/rag_middleware.py:69: error: Argument 1 to "_extract_context_from_rag_messages" of "RAGMiddleware" has incompatible type "Any | list[ChatMessage]"; expected "list[dict[str, str]]"  [arg-type]
backend/app/services/ai/middleware/rag_middleware.py:127: error: Unsupported left operand type for + ("Collection[str]")  [operator]
backend/tests/unit/services/test_auth_service_password_reset.py:19: error: Function is missing a return type annotation  [no-untyped-def]
backend/tests/unit/services/test_auth_service_password_reset.py:24: error: Function is missing a return type annotation  [no-untyped-def]
backend/tests/unit/services/test_auth_service_password_reset.py:29: error: Function is missing a return type annotation  [no-untyped-def]
backend/tests/unit/services/test_auth_service_password_reset.py:41: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/services/test_auth_service_password_reset.py:50: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/services/test_auth_service_password_reset.py:88: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/services/test_auth_service_password_reset.py:114: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/services/test_auth_service_password_reset.py:148: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/services/test_auth_service_password_reset.py:187: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/services/test_auth_service_password_reset.py:201: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/services/test_auth_service_password_reset.py:221: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/unit/services/test_auth_service_password_reset.py:235: error: Function is missing a type annotation  [no-untyped-def]
backend/app/services/ai/ai_service_refactored.py:70: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/ai/ai_service_refactored.py:139: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/ai/ai_service_refactored.py:153: error: Returning Any from function declared to return "dict[str, float]"  [no-any-return]
backend/app/services/ai/ai_service_refactored.py:153: error: "AIService" has no attribute "cost_middleware"; maybe "tool_middleware" or "rag_middleware"?  [attr-defined]
backend/app/services/ai/ai_service_refactored.py:157: error: Returning Any from function declared to return "list[dict[str, Any]]"  [no-any-return]
backend/app/services/ai/ai_service_refactored.py:157: error: "AIService" has no attribute "cost_middleware"; maybe "tool_middleware" or "rag_middleware"?  [attr-defined]
backend/app/services/ai/ai_service_refactored.py:163: error: Returning Any from function declared to return "dict[str, dict[str, Any]]"  [no-any-return]
backend/app/services/ai/ai_service_refactored.py:163: error: "AIService" has no attribute "cost_middleware"; maybe "tool_middleware" or "rag_middleware"?  [attr-defined]
backend/app/services/ai_service.py:14: error: Function is missing a type annotation  [no-untyped-def]
backend/app/services/search/advanced_search.py:98: error: Missing positional argument "db" in call to "AIService"  [call-arg]
backend/app/services/search/advanced_search.py:113: error: Incompatible default for argument "filters" (default has type "None", argument has type "list[SearchFilter]")  [assignment]
backend/app/services/search/advanced_search.py:113: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/services/search/advanced_search.py:113: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/services/search/advanced_search.py:114: error: Incompatible default for argument "facets" (default has type "None", argument has type "list[SearchFacet]")  [assignment]
backend/app/services/search/advanced_search.py:114: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/services/search/advanced_search.py:114: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/services/search/advanced_search.py:330: error: "AIService" has no attribute "generate_embedding"; maybe "get_embeddings"?  [attr-defined]
backend/app/services/search/advanced_search.py:336: error: "WeaviateService" has no attribute "search_similar"  [attr-defined]
backend/app/services/search/advanced_search.py:397: error: Item "BaseException" of "list[SearchResult] | BaseException" has no attribute "__iter__" (not iterable)  [union-attr]
backend/app/services/search/advanced_search.py:403: error: Item "BaseException" of "list[SearchResult] | BaseException" has no attribute "__iter__" (not iterable)  [union-attr]
backend/app/services/search/advanced_search.py:485: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/search/advanced_search.py:485: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
backend/app/services/search/advanced_search.py:519: error: Incompatible types in assignment (expression has type "dict[str, Sequence[str]]", target has type "str")  [assignment]
backend/app/services/search/advanced_search.py:631: error: Need type annotation for "facet_values" (hint: "facet_values: dict[<type>, <type>] = ...")  [var-annotated]
backend/app/services/search/advanced_search.py:679: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/core/sso_manager_new.py:29: error: Incompatible default for argument "config" (default has type "None", argument has type "dict[str, Any]")  [assignment]
backend/app/core/sso_manager_new.py:29: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
backend/app/core/sso_manager_new.py:29: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
backend/app/core/sso_manager_new.py:46: error: Statement is unreachable  [unreachable]
backend/app/services/agents/agent_runner.py:31: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/agents/agent_runner.py:31: note: Use "-> None" if function does not return a value
backend/app/services/assistant_engine.py:103: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/assistant_engine.py:103: note: Use "-> None" if function does not return a value
backend/app/services/agents/agent_planner.py:39: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/agents/agent_planner.py:39: note: Use "-> None" if function does not return a value
backend/app/services/agents/agent_manager.py:35: error: Function is missing a return type annotation  [no-untyped-def]
backend/app/services/agents/agent_manager.py:35: note: Use "-> None" if function does not return a value
backend/app/services/agents/agent_manager.py:239: error: Returning Any from function declared to return "dict[str, Any] | None"  [no-any-return]
tests/conftest.py:15: error: Cannot find implementation or library stub for module named "pytest_asyncio"  [import-not-found]
tests/conftest.py:17: error: Cannot find implementation or library stub for module named "httpx"  [import-not-found]
tests/conftest.py:102: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:110: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:122: error: Function is missing a type annotation  [no-untyped-def]
tests/conftest.py:128: error: Function is missing a type annotation  [no-untyped-def]
tests/conftest.py:142: error: Function is missing a type annotation  [no-untyped-def]
tests/conftest.py:145: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:155: error: Function is missing a type annotation  [no-untyped-def]
tests/conftest.py:164: error: Function is missing a type annotation  [no-untyped-def]
tests/conftest.py:173: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:182: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:193: error: Function is missing a type annotation  [no-untyped-def]
tests/conftest.py:203: error: Function is missing a type annotation  [no-untyped-def]
tests/conftest.py:213: error: Function is missing a type annotation  [no-untyped-def]
tests/conftest.py:229: error: Function is missing a type annotation  [no-untyped-def]
tests/conftest.py:248: error: Function is missing a type annotation  [no-untyped-def]
tests/conftest.py:269: error: Function is missing a type annotation  [no-untyped-def]
tests/conftest.py:285: error: Function is missing a type annotation  [no-untyped-def]
tests/conftest.py:287: error: Cannot find implementation or library stub for module named "backend.app.models.message"  [import-not-found]
tests/conftest.py:301: error: Function is missing a type annotation  [no-untyped-def]
tests/conftest.py:318: error: Function is missing a type annotation  [no-untyped-def]
tests/conftest.py:338: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:348: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:358: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:373: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:385: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:388: error: Name "test_user_data" is not defined  [name-defined]
tests/conftest.py:388: error: Name "test_admin_data" is not defined  [name-defined]
tests/conftest.py:389: error: Name "test_assistant_data" is not defined  [name-defined]
tests/conftest.py:390: error: Name "test_conversation_data" is not defined  [name-defined]
tests/conftest.py:391: error: Name "test_message_data" is not defined  [name-defined]
tests/conftest.py:392: error: Name "test_document_data" is not defined  [name-defined]
tests/conftest.py:393: error: Name "test_tool_data" is not defined  [name-defined]
tests/conftest.py:398: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:413: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:430: error: Function is missing a return type annotation  [no-untyped-def]
backend/tests/conftest.py:12: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/conftest.py:16: error: Name "client" already defined (possibly by an import)  [no-redef]
backend/tests/conftest.py:17: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/conftest.py:20: error: Function is missing a return type annotation  [no-untyped-def]
backend/tests/integration/test_password_reset_security.py:22: error: Function is missing a return type annotation  [no-untyped-def]
backend/tests/integration/test_password_reset_security.py:27: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/test_password_reset_security.py:39: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/test_password_reset_security.py:55: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/test_password_reset_security.py:74: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/test_password_reset_security.py:91: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/test_password_reset_security.py:107: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/test_password_reset_security.py:133: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/test_password_reset_security.py:162: error: Function is missing a return type annotation  [no-untyped-def]
backend/tests/integration/test_password_reset_security.py:166: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/test_password_reset_security.py:177: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/test_password_reset_security.py:191: error: Function is missing a return type annotation  [no-untyped-def]
backend/tests/integration/test_password_reset_security.py:196: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/test_password_reset_security.py:213: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/test_password_reset_security.py:237: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/test_password_reset_security.py:265: error: Function is missing a return type annotation  [no-untyped-def]
backend/tests/integration/test_password_reset_security.py:269: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/test_password_reset_security.py:280: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/test_password_reset_security.py:292: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/api/test_password_reset_endpoints.py:21: error: Function is missing a return type annotation  [no-untyped-def]
backend/tests/integration/api/test_password_reset_endpoints.py:26: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/api/test_password_reset_endpoints.py:39: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/api/test_password_reset_endpoints.py:58: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/api/test_password_reset_endpoints.py:70: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/api/test_password_reset_endpoints.py:78: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/api/test_password_reset_endpoints.py:106: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/api/test_password_reset_endpoints.py:117: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/api/test_password_reset_endpoints.py:135: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/api/test_password_reset_endpoints.py:152: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/api/test_password_reset_endpoints.py:168: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/api/test_password_reset_endpoints.py:179: error: Function is missing a type annotation  [no-untyped-def]
backend/tests/integration/api/test_password_reset_endpoints.py:197: error: Function is missing a type annotation  [no-untyped-def]
Found 1309 errors in 153 files (checked 295 source files)
